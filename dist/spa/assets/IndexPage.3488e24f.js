import{Q as Fn}from"./QImg.02596f8d.js";import{a1 as Cn,bb as Sn,a2 as Hn,bc as Tn,bd as Ua,be as xn,a4 as Wn,a as F,c as L,bf as Qa,bg as An,a6 as En,bh as On,bi as Ln,bj as In,a9 as Rn,bk as Mn,w as J,ac as Ra,bl as Ya,_ as Xa,bm as Bn,a0 as ja,V as Za,bn as Pn,ad as i,T as Nt,ag as Rt,bo as Nn,af as Kn,$ as zn,r as Ot,E as Ht,d as Kt,bp as Gt,o as zt,n as Ha,at as Vn,f as nt,g as xt,l as Oe,bq as $n,aW as Ea,u as Re,x as et,ap as Oa,B as kt,H as Wt,D as Xe,br as Ja,aC as ya,aw as ha,s as Lt,z as _a,y as Ft,C as La,F as Fa,q as Bt,au as Ca,az as Un,aA as Qn,aB as Yn,bs as Ga,aD as Xn}from"./index.88f48d4d.js";import{u as jn}from"./bookings.549c6f5a.js";import"./useApi.f2502392.js";import"./axios.37d53be1.js";var pa=Cn({name:"QTooltip",inheritAttrs:!1,props:{...Sn,...Hn,...Tn,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:Ua},self:{type:String,default:"top middle",validator:Ua},offset:{type:Array,default:()=>[14,14],validator:xn},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0},persistent:Boolean},emits:[...Wn],setup(e,{slots:t,emit:a,attrs:u}){let s,D;const f=Rt(),{proxy:{$q:w}}=f,H=F(null),C=F(!1),h=L(()=>Qa(e.anchor,w.lang.rtl)),b=L(()=>Qa(e.self,w.lang.rtl)),x=L(()=>e.persistent!==!0),{registerTick:K,removeTick:y}=An(),{registerTimeout:A}=En(),{transitionProps:_,transitionStyle:N}=On(e),{localScrollTarget:O,changeScrollEvent:I,unconfigureScrollTarget:U}=Ln(e,De),{anchorEl:te,canShow:qe,anchorEvents:oe}=In({showing:C,configureAnchorEl:Ze}),{show:p,hide:z}=Rn({showing:C,canShow:qe,handleShow:Te,handleHide:xe,hideOnRouteChange:x,processOnMount:!0});Object.assign(oe,{delayShow:ut,delayHide:Ue});const{showPortal:j,hidePortal:Q,renderPortal:q}=Mn(f,H,Ae,"tooltip");if(w.platform.is.mobile===!0){const fe={anchorEl:te,innerRef:H,onClickOutside(Ke){return z(Ke),Ke.target.classList.contains("q-dialog__backdrop")&&zn(Ke),!0}},ke=L(()=>e.modelValue===null&&e.persistent!==!0&&C.value===!0);J(ke,Ke=>{(Ke===!0?Nn:Ya)(fe)}),Ra(()=>{Ya(fe)})}function Te(fe){j(),K(()=>{D=new MutationObserver(()=>je()),D.observe(H.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),je(),De()}),s===void 0&&(s=J(()=>w.screen.width+"|"+w.screen.height+"|"+e.self+"|"+e.anchor+"|"+w.lang.rtl,je)),A(()=>{j(!0),a("show",fe)},e.transitionDuration)}function xe(fe){y(),Q(),Le(),A(()=>{Q(!0),a("hide",fe)},e.transitionDuration)}function Le(){D!==void 0&&(D.disconnect(),D=void 0),s!==void 0&&(s(),s=void 0),U(),Xa(oe,"tooltipTemp")}function je(){Bn({targetEl:H.value,offset:e.offset,anchorEl:te.value,anchorOrigin:h.value,selfOrigin:b.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function ut(fe){if(w.platform.is.mobile===!0){ja(),document.body.classList.add("non-selectable");const ke=te.value,Ke=["touchmove","touchcancel","touchend","click"].map(ge=>[ke,ge,"delayHide","passiveCapture"]);Za(oe,"tooltipTemp",Ke)}A(()=>{p(fe)},e.delay)}function Ue(fe){w.platform.is.mobile===!0&&(Xa(oe,"tooltipTemp"),ja(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),A(()=>{z(fe)},e.hideDelay)}function Ze(){if(e.noParentEvent===!0||te.value===null)return;const fe=w.platform.is.mobile===!0?[[te.value,"touchstart","delayShow","passive"]]:[[te.value,"mouseenter","delayShow","passive"],[te.value,"mouseleave","delayHide","passive"]];Za(oe,"anchor",fe)}function De(){if(te.value!==null||e.scrollTarget!==void 0){O.value=Pn(te.value,e.scrollTarget);const fe=e.noParentEvent===!0?je:z;I(O.value,fe)}}function Ce(){return C.value===!0?i("div",{...u,ref:H,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",u.class],style:[u.style,N.value],role:"tooltip"},Kn(t.default)):null}function Ae(){return i(Nt,_.value,Ce)}return Ra(Le),Object.assign(f.proxy,{updatePosition:je}),q}});const dn=/^(\d{4})-(\d{1,2})(-(\d{1,2}))?([^\d]+(\d{1,2}))?(:(\d{1,2}))?(:(\d{1,2}))?(.(\d{1,3}))?$/,Zn=/(\d\d?)(:(\d\d?)|)(:(\d\d?)|)/,Jn=[0,31,28,31,30,31,30,31,31,30,31,30,31],Gn=[0,31,29,31,30,31,30,31,31,30,31,30,31],pn=28,er=31,At=12,Ba=1,Ta=1,Yt=7,ga=60,Ia=24,tr=6048e5;function it(){const e=new Date,t=""+(e.getMonth()+1),a=""+e.getDate();return[e.getFullYear(),vt(t,2),vt(a,2)].join("-")}function pt(e,t,a){let u=We(e);if(u.day===1||u.weekday===0)for(;!t.includes(u.weekday);)u=Tt(u);return u=fn(u,t[0],za),u=bt(u),a&&(u=Et(u,a,u.hasTime)),u}function Pt(e,t,a){let u=We(e);if(St(u.year,u.month)===u.day||u.weekday===6)for(;!t.includes(u.weekday);)u=za(u);return u=fn(u,t[t.length-1],Tt),u=bt(u),a&&(u=Et(u,a,u.hasTime)),u}function ma(e){const t=We(e);return t.day=Ta,bt(t),t}function Jt(e){const t=We(e);return t.day=St(t.year,t.month),bt(t),t}function en(e){switch(Object.prototype.toString.call(e)){case"[object Number]":return e;case"[object String]":{const a=Zn.exec(e);return a?parseInt(a[1],10)*60+parseInt(a[3]||0,10):!1}case"[object Object]":return typeof e.hour!="number"||typeof e.minute!="number"?!1:e.hour*60+e.minute}return!1}function Pa(e){return!!dn.exec(e)}function we(e){const t=dn.exec(e);return t?{date:e,time:vt(parseInt(t[6],10)||0,2)+":"+vt(parseInt(t[8],10)||0,2),year:parseInt(t[1],10),month:parseInt(t[2],10),day:parseInt(t[4],10)||1,hour:isNaN(parseInt(t[6],10))?0:parseInt(t[6],10),minute:isNaN(parseInt(t[8],10))?0:parseInt(t[8],10),weekday:0,doy:0,workweek:0,hasDay:!!t[4],hasTime:!0,past:!1,current:!1,future:!1,disabled:!1}:null}function Me(e,t){let a=we(e);return a===null?null:(a=bt(a),t&&Et(a,t,a.hasTime),a)}function ar(e,t=!1){const a=t?"UTC":"";return bt({date:vt(e[`get${a}FullYear`](),4)+"-"+vt(e[`get${a}Month`]()+1,2)+"-"+vt(e[`get${a}Date`](),2),time:vt(e[`get${a}Hours`]()||0,2)+":"+vt(e[`get${a}Minutes`]()||0,2),year:e[`get${a}FullYear`](),month:e[`get${a}Month`]()+1,day:e[`get${a}Date`](),hour:e[`get${a}Hours`](),minute:e[`get${a}Minutes`](),weekday:0,doy:0,workweek:0,hasDay:!0,hasTime:!0,past:!1,current:!1,future:!1,disabled:!1})}function re(e){return e.year*1e8+e.month*1e6+e.day*1e4}function Xt(e){return e.hour*100+e.minute}function It(e){return re(e)+Xt(e)}function Et(e,t,a=!1){let u=re(t),s=re(e),D=u===s;return e.hasTime&&a&&D&&(u=Xt(t),s=Xt(e),D=u===s),e.past=s<u,e.current=D,e.future=s>u,e.currentWeekday=e.weekday===t.weekday,e}function nr(e,t,a){return e.hasTime=!0,e.hour=Math.floor(t/ga),e.minute=t%ga,e.time=Na(e),a&&Et(e,a,!0),e}function tn(e){return e.weekday=on(e),e}function rr(e){return e.doy=cn(e),e}function ur(e,t,a,u,s){const D=re(e);if(t!==void 0){const f=re(we(t));D<=f&&(e.disabled=!0)}if(e.disabled!==!0&&a!==void 0){const f=re(we(a));D>=f&&(e.disabled=!0)}if(e.disabled!==!0&&Array.isArray(u)&&u.length>0){for(const f in u)if(u[f]===e.weekday){e.disabled=!0;break}}if(e.disabled!==!0&&Array.isArray(s)&&s.length>0){for(const f in s)if(Array.isArray(s[f])&&s[f].length===2){const w=we(s[f][0]),H=we(s[f][1]);if(fr(e,w,H)){e.disabled=!0;break}}else if(re(Me(s[f]+" 00:00"))===D){e.disabled=!0;break}}return e}function bt(e){return e.hasTime=!0,e.time=Na(e),e.date=sn(e),e.weekday=on(e),e.doy=cn(e),e.workweek=lr(e),e}function cn(e){if(e.year!==0)return(Date.UTC(e.year,e.month-1,e.day)-Date.UTC(e.year,0,0))/24/60/60/1e3}function lr(e){e.year===0&&(e=Me(it()));const t=or(e);if(isNaN(t))return 0;const a=new Date(t.getFullYear(),t.getMonth(),t.getDate());a.setDate(a.getDate()-(a.getDay()+6)%7+3);const u=new Date(a.getFullYear(),0,4);u.setDate(u.getDate()-(u.getDay()+6)%7+3);const s=a.getTimezoneOffset()-u.getTimezoneOffset();a.setHours(a.getHours()-s);const D=(a-u)/tr;return 1+Math.floor(D)}function on(e){let t=e.weekday;if(e.hasDay){const a=Math.floor,u=e.day,s=(e.month+9)%At+1,D=a(e.year/100),f=e.year%100-(e.month<=2?1:0);t=((u+a(2.6*s-.2)-2*D+f+a(f/4)+a(D/4))%7+7)%7}return t}function dr(e){return(e%4===0^e%100===0^e%400===0)===1}function St(e,t){return dr(e)?Gn[t]:Jn[t]}function We(e){return{...e}}function vt(e,t){let a=String(e);for(;a.length<t;)a="0"+a;return a}function sn(e){let t=`${vt(e.year,4)}-${vt(e.month,2)}`;return e.hasDay&&(t+=`-${vt(e.day,2)}`),t}function Na(e){return e.hasTime?`${vt(e.hour,2)}:${vt(e.minute,2)}`:""}function Ka(e){return sn(e)+" "+(e.hasTime?Na(e):"00:00")}function Tt(e){return++e.day,e.weekday=(e.weekday+1)%Yt,e.day>pn&&e.day>St(e.year,e.month)&&(e.day=Ta,++e.month,e.month>At&&(e.month=Ba,++e.year)),e}function za(e){return e.day--,e.weekday=(e.weekday+6)%Yt,e.day<Ta&&(e.month--,e.month<Ba&&(e.year--,e.month=At),e.day=St(e.year,e.month)),e}function an(e,t=Tt,a=1,u=[0,1,2,3,4,5,6]){return jt(e,t,a,u)}function jt(e,t=Tt,a=1,u=[0,1,2,3,4,5,6]){for(!u.includes(e.weekday)&&e.weekday===0&&t===Tt&&++a;--a>=0;)e=t(e),u.length<7&&!u.includes(e.weekday)&&++a;return e}function fn(e,t,a=Tt,u=6){for(;e.weekday!==t&&--u>=0;)e=a(e);return e}function ir(e){const t=[1,1,1,1,1,1,1],a=[0,0,0,0,0,0,0];for(let u=0;u<e.length;++u)a[e[u]]=1;for(let u=0;u<Yt;++u){let s=1;for(let D=1;D<Yt;++D){const f=(u+D)%Yt;if(a[f])break;++s}t[u]=a[u]*s}return t}function Sa(e,t,a,u,s,D,f=[],w=[],H=42,C=0){const h=re(t),b=[];let x=We(e),K=0,y=K===h;if(h<re(e))return b;for(;(!y||b.length<C)&&b.length<H&&(K=re(x),y=y||K>h&&b.length>=C,!y);){if(u[x.weekday]===0){x=jt(x,Tt);continue}const A=We(x);bt(A),Et(A,a),ur(A,s,D,f,w),b.push(A),x=jt(x,Tt)}return b}function cr(e,t,a,u,s){const D=[];for(let f=0;f<u;++f){const w=(t+f)*a,H=We(e);D.push(nr(H,w,s))}return D}function Zt(e,t){const a=(u,s)=>"";return typeof Intl=="undefined"||typeof Intl.DateTimeFormat=="undefined"?a:(u,s)=>{try{return new Intl.DateTimeFormat(e||void 0,t(u,s)).format(sr(u))}catch(D){return console.error(`Intl.DateTimeFormat: ${D.message} -> ${Ka(u)}`),a}}}function or(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,0,0)):new Date(e.year,e.month-1,e.day,0,0)}function sr(e,t=!0){return t?new Date(Date.UTC(e.year,e.month-1,e.day,e.hour,e.minute)):new Date(e.year,e.month-1,e.day,e.hour,e.minute)}function tt(e){return isFinite(parseInt(e,10))}function fr(e,t,a,u){const s=re(e)+(u===!0?Xt(e):0),D=re(t)+(u===!0?Xt(t):0),f=re(a)+(u===!0?Xt(a):0);return s>=D&&s<=f}function Ne(e,t){const a=We(e);let u;return vr(t,(s,D)=>{if(a[D]!==void 0){a[D]+=parseInt(s,10);const f=nn.indexOf(D);f!==-1&&(u===void 0?u=f:u=Math.min(f,u))}}),u!==void 0&&hr(a,nn[u]),bt(a),a}const nn=["minute","hour","day","month"];function vr(e,t){Object.keys(e).forEach(a=>t(e[a],a))}function yr(e){if(e.minute>=ga||e.minute<0){const t=Math.floor(e.minute/ga);e.minute-=t*ga,e.hour+=t,vn(e)}return e}function vn(e){if(e.hour>=Ia||e.hour<0){const t=Math.floor(e.hour/Ia);e.hour-=t*Ia,e.day+=t,yn(e)}return e}function yn(e){Qt(e);let t=St(e.year,e.month);if(e.day>t){++e.month,e.month>At&&Qt(e);let a=e.day-t;t=St(e.year,e.month);do a>t&&(++e.month,e.month>At&&Qt(e),a-=t,t=St(e.year,e.month));while(a>t);e.day=a}else if(e.day<=0){let a=-1*e.day;--e.month,e.month<=0&&Qt(e),t=St(e.year,e.month);do a>t&&(a-=t,--e.month,e.month<=0&&Qt(e),t=St(e.year,e.month));while(a>t);e.day=t-a}return e}function Qt(e){if(e.month>At){const t=Math.floor(e.month/At);e.month=e.month%At,e.year+=t}else e.month<Ba&&(e.month+=At,--e.year);return e}function hr(e,t){switch(t){case"minute":return yr(e);case"hour":return vn(e);case"day":return yn(e);case"month":return Qt(e)}}function ee(e,t="px"){if(!(e==null||e===""))return isNaN(e)?String(e):e==="auto"?e:`${Number(e)}${t}`}function ka(e,t){return t===0?e:e.slice(0,t)}var wt={name:"ResizeObserver",mounted(e,{modifiers:t,value:a}){if(!a)return;const u={};u.callback=a,u.size={width:0,height:0},u.observer=new ResizeObserver(s=>{const D=s[0].contentRect;(D.width!==u.size.width||D.height!==u.size.height)&&(u.size.width=D.width,u.size.height=D.height,u.callback(u.size))}),u.observer.observe(e),e.__onResizeObserver=u},beforeUnmount(e){if(!e.__onResizeObserver)return;const{observer:t}=e.__onResizeObserver;t.unobserve(e),delete e.__onResizeObserver}};function ea(e,t,{scrollArea:a,pane:u}){if(!t){const h="[error: renderCalendar] no renderFunc has been supplied to useCalendar";throw console.error(h),new Error(h)}const s=Ot({width:0,height:0}),D=F(null);function f({width:h,height:b}){s.width=h,s.height=b}const w=L(()=>e.noScroll!==!0&&a.value&&u.value&&s.height?a.value.offsetWidth-u.value.offsetWidth:0);function H(){}function C(){const h={ref:D,role:"complementary",lang:e.locale,class:`q-calendar ${e.dark?"q-calendar--dark":""} ${e.bordered?"q-calendar__bordered":""}`};return Ht(i("div",{...h},[t()]),[[wt,f]])}return{rootRef:D,scrollWidth:w,__initCalendar:H,__renderCalendar:C}}const ta={modelValue:{type:String,default:it(),validator:e=>e===""||Pa(e)},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,noHeader:Boolean,noScroll:Boolean,shortWeekdayLabel:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,minWeekdayLabel:{type:[Number,String],default:1},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},selectedDates:{type:Array,default:()=>[]},selectedStartEndDates:{type:Array,default:()=>[]},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(a=>{["day","date","weekday","interval","time","resource","task"].includes(a)!==!0&&(t=!1)}),t}}};function aa(e,{startDate:t,endDate:a,times:u}){const s=L(()=>ir(e.weekdays)),D=L(()=>Me(t.value)),f=L(()=>a.value==="0000-00-00"?y(D.value):Me(a.value)),w=L(()=>{const _={timeZone:"UTC",day:"numeric"};return Zt(e.locale,(N,O)=>_)}),H=L(()=>{const _={timeZone:"UTC",weekday:"long"},N={timeZone:"UTC",weekday:"short"};return Zt(e.locale,(O,I)=>I?N:_)}),C=L(()=>{const _={timeZone:"UTC",dateStyle:"full"};return Zt(e.locale,N=>_)});function h(_,N){return _&&_.length>0&&_.includes(N.date)}function b(_,N){const O={firstDay:!1,betweenDays:!1,lastDay:!1};if(_&&_.length===2){const I=re(N),U=re(we(_[0])),te=re(we(_[1]));O.firstDay=U===I,O.lastDay=te===I,O.betweenDays=U<I&&te>I}return O}function x(_,N=!1,O=[],I=[],U=!1){const te=h(O,_),{firstDay:qe,lastDay:oe,betweenDays:p}=b(I,_);return{"q-past-day":qe!==!0&&p!==!0&&oe!==!0&&te!==!0&&N!==!0&&_.past,"q-future-day":qe!==!0&&p!==!0&&oe!==!0&&te!==!0&&N!==!0&&_.future,"q-outside":N,"q-current-day":_.current,"q-selected":te,"q-range-first":qe===!0,"q-range":p===!0,"q-range-last":oe===!0,"q-range-hover":U===!0&&(qe===!0||oe===!0||p===!0),"q-disabled-day disabled":_.disabled===!0}}function K(_){return pt(_,e.weekdays,u.today)}function y(_){return Pt(_,e.weekdays,u.today)}function A(_){}return{weekdaySkips:s,parsedStart:D,parsedEnd:f,dayFormatter:w,weekdayFormatter:H,ariaDateFormatter:C,arrayHasDate:h,checkDays:b,getRelativeClasses:x,startOfWeek:K,endOfWeek:y,dayStyleDefault:A}}function rn(e,t){if(e===window){window.scrollTo(window.pageXOffset||window.scrollX||document.body.scrollLeft||0,t);return}e.scrollTop=t}function _r(e,t){if(e===window){window.scrollTo(t,window.pageYOffset||window.scrollY||document.body.scrollTop||0);return}e.scrollLeft=t}function gr(e){return e===window?window.pageYOffset||window.scrollY||document.body.scrollTop||0:e.scrollTop}function mr(e){return e===window?window.pageXOffset||window.scrollX||document.body.scrollLeft||0:e.scrollLeft}function hn(e,t,a=0){const u=arguments[3]===void 0?performance.now():arguments[3],s=gr(e);if(a<=0){s!==t&&rn(e,t);return}requestAnimationFrame(D=>{const f=D-u,w=s+(t-s)/Math.max(f,a)*f;rn(e,w),w!==t&&hn(e,t,a-f,D)})}function _n(e,t,a=0){const u=arguments[3]===void 0?performance.now():arguments[3],s=mr(e);if(a<=0){s!==t&&_r(e,t);return}requestAnimationFrame(D=>{const f=D-u,w=s+(t-s)/Math.max(f,a)*f;setHorizontalScroll(e,w),w!==t&&_n(e,t,a-f,D)})}const Va={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},shortIntervalLabel:Boolean,intervalHeight:{type:[Number,String],default:40,validator:tt},intervalMinutes:{type:[Number,String],default:60,validator:tt},intervalStart:{type:[Number,String],default:0,validator:tt},intervalCount:{type:[Number,String],default:24,validator:tt},intervalStyle:{type:Function,default:null},intervalClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},showIntervalLabel:{type:Function,default:null},hour24Format:Boolean,timeClicksClamped:Boolean,dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},gn={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:tt},resourceMinHeight:{type:[Number,String],default:70,validator:tt},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)}},kr={view:{type:String,validator:e=>["day","week","month","month-interval"].includes(e),default:"day"},leftColumnOptions:{type:Array},rightColumnOptions:{type:Array},columnOptionsId:{type:String},columnOptionsLabel:{type:String},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},dayHeight:{type:[Number,String],default:0,validator:tt},dayMinHeight:{type:[Number,String],default:40,validator:tt}},mn={modelResources:{type:Array},resourceKey:{type:[String,Number],default:"id"},resourceLabel:{type:[String,Number],default:"label"},resourceHeight:{type:[Number,String],default:0,validator:tt},resourceMinHeight:{type:[Number,String],default:70,validator:tt},resourceStyle:{type:Function,default:null},resourceClass:{type:Function,default:null},cellWidth:{type:[Number,String],default:100},intervalHeaderHeight:{type:[Number,String],default:20,validator:tt},noSticky:Boolean};function xa(e,{weekdaySkips:t,times:a,scrollArea:u,parsedStart:s,parsedEnd:D,maxDays:f,size:w,headerColumnRef:H}){const C=L(()=>parseInt(e.intervalStart,10)),h=L(()=>parseInt(e.intervalMinutes,10)),b=L(()=>parseInt(e.intervalCount,10)),x=L(()=>parseFloat(e.intervalHeight)),K=L(()=>{let m=0;return e.cellWidth?m=e.cellWidth:w.width>0&&H.value&&(m=H.value.offsetWidth/(e.columnCount>1?e.columnCount:f.value)),m}),y=L(()=>C.value*h.value),A=L(()=>b.value*x.value),_=L(()=>b.value*K.value),N=L(()=>te(s.value)),O=L(()=>qe(D.value)),I=L(()=>Sa(s.value,D.value,a.today,t.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,f.value)),U=L(()=>I.value.map(m=>cr(m,C.value,h.value,b.value,a.now)));function te(m){return pt(m,e.weekdays,a.today)}function qe(m){return Pt(m,e.weekdays,a.today)}function oe(m,Z){return m&&m.length>0&&m.includes(Ka(Z))}function p(m,Z){const $={firstDay:!1,betweenDays:!1,lastDay:!1};if(m&&m.length===2){const ae=It(Z),ve=It(we(m[0])),ye=It(we(m[1]));$.firstDay=ve===ae,$.lastDay=ye===ae,$.betweenDays=ve<ae&&ye>ae}return $}function z(m,Z=[],$=[]){const ae=oe(Z,m),{firstDay:ve,lastDay:ye,betweenDays:ue}=p($,m);return{"q-selected":ae,"q-range-first":ve===!0,"q-range":ue===!0,"q-range-last":ye===!0,"q-disabled-interval disabled":m.disabled===!0}}function j(m,Z=[],$=[]){return[]}const Q=L(()=>{const m={timeZone:"UTC",hour12:!e.hour24Format,hour:"2-digit",minute:"2-digit"},Z={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric",minute:"2-digit"},$={timeZone:"UTC",hour12:!e.hour24Format,hour:"numeric"};return Zt(e.locale,(ae,ve)=>ve?ae.minute===0?$:Z:m)}),q=L(()=>{const m={timeZone:"UTC",dateStyle:"full",timeStyle:"short"};return Zt(e.locale,Z=>m)});function Te(m){const Z=U.value[0][0];return!(Z.hour===m.hour&&Z.minute===m.minute)&&m.minute===0}function xe(m){}function Le(m){}function je(m,Z,$=!1,ae=void 0){let ve=We(Z);const ye=m.currentTarget.getBoundingClientRect(),ue=m,Se=m,le=ue.changedTouches||ue.touches,Be=((le&&le[0]?le[0].clientY:Se.clientY)-ye.top)/x.value,Ee=Math.floor(($?Math.floor(Be):Be)*h.value);return Ee!==0&&(ve=Ne(ve,{minute:Ee})),ae&&Et(ve,ae,!0),ve}function ut(m,Z,$=!1,ae=void 0){let ve=We(Z);const ye=m.currentTarget.getBoundingClientRect(),ue=m,Se=m,le=ue.changedTouches||ue.touches,Be=((le&&le[0]?le[0].clientY:Se.clientY)-ye.top)/x.value,Ee=Math.floor(($?Math.floor(Be):Be)*h.value);return Ee!==0&&(ve=Ne(ve,{minute:Ee})),ae&&Et(ve,ae,!0),ve}function Ue(m,Z,$=!1,ae=void 0){let ve=We(Z);const ye=m.currentTarget.getBoundingClientRect(),ue=m,Se=m,le=ue.changedTouches||ue.touches,Be=((le&&le[0]?le[0].clientX:Se.clientX)-ye.left)/K.value,Ee=Math.floor(($?Math.floor(Be):Be)*h.value);return Ee!==0&&(ve=Ne(ve,{minute:Ee})),ae&&Et(ve,ae,!0),ve}function Ze(m,Z){const $={timestamp:m};return $.timeStartPos=se,$.timeDurationHeight=fe,Z!==void 0&&($.columnIndex=Z),$}function De(m,Z){const $={timestamp:We(m)};return $.timeStartPosX=G,$.timeDurationWidth=ke,Z!==void 0&&($.index=Z),$}function Ce(m,Z=0){const $=se(m);return $===!1||!u.value?!1:(hn(u.value,$,Z),!0)}function Ae(m,Z=0){const $=G(m);return $===!1||!u.value?!1:(_n(u.value,$,Z),!0)}function fe(m){return m/h.value*x.value}function ke(m){return m/h.value*K.value}function Ke(m){return parseInt(m,10)*h.value/x.value}function ge(m){return parseInt(m,10)*h.value/K.value}function se(m,Z=!0){const $=en(m);if($===!1)return!1;const ae=y.value,ve=b.value*h.value;let ue=($-ae)/ve*A.value;return Z&&(ue<0&&(ue=0),ue>A.value&&(ue=A.value)),ue}function G(m,Z=!0){const $=en(m);if($===!1)return!1;const ae=y.value,ve=b.value*h.value;let ue=($-ae)/ve*_.value;return Z&&(ue<0&&(ue=0),ue>_.value&&(ue=_.value)),ue}return{parsedIntervalStart:C,parsedIntervalMinutes:h,parsedIntervalCount:b,parsedIntervalHeight:x,parsedCellWidth:K,parsedStartMinute:y,bodyHeight:A,bodyWidth:_,parsedWeekStart:N,parsedWeekEnd:O,days:I,intervals:U,intervalFormatter:Q,ariaDateTimeFormatter:q,arrayHasDateTime:oe,checkIntervals:p,getIntervalClasses:z,getResourceClasses:j,showIntervalLabelDefault:Te,showResourceLabelDefault:xe,styleDefault:Le,getTimestampAtEventInterval:je,getTimestampAtEvent:ut,getTimestampAtEventX:Ue,getScopeForSlot:Ze,getScopeForSlotX:De,scrollToTime:Ce,scrollToTimeX:Ae,timeDurationHeight:fe,timeDurationWidth:ke,heightToMinutes:Ke,widthToMinutes:ge,timeStartPos:se,timeStartPosX:G}}const Wa={columnCount:{type:[Number,String],default:0,validator:tt},columnIndexStart:{type:[Number,String],default:0,validator:tt}},ba={maxDays:{type:Number,default:1}},Vt={now:{type:String,validator:e=>e===""||Pa(e),default:""}};function na(e){const t=Ot({now:Me("0000-00-00 00:00"),today:Me("0000-00-00")}),a=L(()=>e.now?Me(e.now):D());J(()=>a,H=>s());function u(){t.now.current=t.today.current=!0,t.now.past=t.today.past=!1,t.now.future=t.today.future=!1}function s(){const H=a.value||D();f(H,t.now),w(H,t.now),f(H,t.today)}function D(){return ar(new Date)}function f(H,C){H.date!==C.date&&(C.year=H.year,C.month=H.month,C.day=H.day,C.weekday=H.weekday,C.date=H.date)}function w(H,C){H.time!==C.time&&(C.hour=H.hour,C.minute=H.minute,C.time=H.time)}return{times:t,parsedNow:a,setCurrent:u,updateCurrent:s,getNow:D,updateDay:f,updateTime:w}}function ra(e,{parsedView:t,parsedValue:a,times:u}){return{renderValues:L(()=>{const D=a.value;let f=e.maxDays,w=D,H=D;switch(t.value){case"month":w=ma(D),H=Jt(D),f=St(w.year,w.month);break;case"week":case"week-agenda":case"week-scheduler":w=pt(D,e.weekdays,u.today),H=Pt(w,e.weekdays,u.today),f=e.weekdays.length;break;case"day":case"scheduler":case"agenda":H=an(We(H),Tt,f>1?f-1:f,e.weekdays),bt(H);break;case"month-interval":case"month-scheduler":case"month-agenda":w=ma(D),H=Jt(D),bt(H),f=St(w.year,w.month);break;case"resource":f=1,H=an(We(H),Tt,f,e.weekdays),bt(H);break}return{start:w,end:H,maxDays:f}})}}const br=e=>e.replace(/(-\w)/g,t=>t[1].toUpperCase());let Ma,kn;function bn(e,t){const a={};for(const u in e){const s=e[u],D=br("on-"+u);if(Ma===void 0){console.warn("$listeners has not been set up");return}if(Ma.value[D]===void 0)continue;const f="on"+s.event.charAt(0).toUpperCase()+s.event.slice(1),w=H=>{const C=H;return(s.button===void 0||C.buttons>0&&C.button===s.button)&&(s.prevent&&C.preventDefault(),s.stop&&C.stopPropagation(),kn(u,t(C,u))),s.result};f in a?Array.isArray(a[f])?a[f].push(w):a[f]=[a[f],w]:a[f]=w}return a}function wr(e,t){return bn($a(e),t)}function $a(e){return{["click"+e]:{event:"click"},["contextmenu"+e]:{event:"contextmenu",prevent:!0,result:!1},["mousedown"+e]:{event:"mousedown"},["mousemove"+e]:{event:"mousemove"},["mouseup"+e]:{event:"mouseup"},["mouseenter"+e]:{event:"mouseenter"},["mouseleave"+e]:{event:"mouseleave"},["touchstart"+e]:{event:"touchstart"},["touchmove"+e]:{event:"touchmove"},["touchend"+e]:{event:"touchend"}}}function He(e){return Object.keys($a(e))}function ua(e,t){return kn=e,Ma=t,{getMouseEventHandlers:bn,getDefaultMouseEventHandlers:wr,getMouseEventName:$a,getRawMouseEvents:He}}const la=["moved"];function da(e,{parsedView:t,parsedValue:a,weekdaySkips:u,direction:s,maxDays:D,times:f,emittedValue:w,emit:H}){function C(h=1){if(h===0){w.value=it();return}let b=We(a.value);const x=h>0,K=x?Tt:za,y=x?er:Ta;let A=x?h:-h;s.value=x?"next":"prev";const _=u.value.filter(N=>N!==0).length;for(;--A>=0;)switch(t.value){case"month":for(b.day=y,K(b),tn(b);u.value[b.weekday]===0;)b=Ne(b,{day:x===!0?1:-1});break;case"week":case"week-agenda":case"week-scheduler":jt(b,K,_,e.weekdays);break;case"day":case"scheduler":case"agenda":jt(b,K,D.value,e.weekdays);break;case"month-interval":case"month-agenda":case"month-scheduler":b.day=y,K(b);break;case"resource":jt(b,K,D.value,e.weekdays);break}tn(b),bt(b),rr(b),Et(b,f.now),w.value=b.date,H("moved",b)}return{move:C}}const Dr=/^on[A-Z]/;function ia(e=Rt()){return{emitListeners:L(()=>{const t={};return e.vnode&&e.vnode.props&&Object.keys(e.vnode.props).forEach(a=>{Dr.test(a)&&(t[a]=!0)}),t})}}function rt(){return[i("span",{"aria-hidden":"true",class:"q-calendar__focus-helper"})]}function wa({focusable:e,focusType:t},a,u){const s=e&&t.includes("date");return i("button",{...a,tabindex:s?0:-1},[u,s&&rt()])}const Da={cellWidth:[Number,String]};function Aa(e){return{isSticky:L(()=>e.cellWidth!==void 0)}}const ca=["change"];function oa(e,{days:t,lastStart:a,lastEnd:u}){function s(){if(t.value&&t.value.length>0){const D=t.value[0].date,f=t.value[t.value.length-1].date;if(a.value===null||u.value===null||D!==a.value||f!==u.value)return a.value=D,u.value=f,e("change",{start:D,end:f,days:t.value}),!0}return!1}return{checkChange:s}}function $t(){function e(a,{bubbles:u=!1,cancelable:s=!1}={}){try{return new CustomEvent(a,{bubbles:u,cancelable:s})}catch{const f=document.createEvent("Event");return f.initEvent(a,u,s),f}}function t(a,u){return[].concat(u).includes(a.keyCode)}return{createEvent:e,isKeyCode:t}}const{isKeyCode:un}=$t(),Ut={useNavigation:Boolean};function sa(e,{rootRef:t,focusRef:a,focusValue:u,datesRef:s,days:D,parsedView:f,parsedValue:w,emittedValue:H,weekdaySkips:C,direction:h,times:b}){let x=!1;Ra(()=>{y()}),J(()=>e.useNavigation,Q=>{Q===!0?K():y()}),e.useNavigation===!0&&K();function K(){x!==!0&&document&&(x=!0,document.addEventListener("keyup",O),document.addEventListener("keydown",N))}function y(){document&&(document.removeEventListener("keyup",O),document.removeEventListener("keydown",N),x=!1)}function A(Q){if(Q===void 0)return!1;if(document){const q=document.activeElement;if(q!==document.body&&t.value.contains(q)===!0)return!0}return!1}function _(){let Q=0;const q=setInterval(()=>{s.value[a.value]?(s.value[a.value].focus(),(++Q===50||document.activeElement===s.value[a.value])&&clearInterval(q)):clearInterval(q)},250)}function N(Q){A(Q)&&un(Q,[33,34,35,36,37,38,39,40])&&(Q.stopPropagation(),Q.preventDefault())}function O(Q){if(A(Q)&&un(Q,[33,34,35,36,37,38,39,40]))switch(Q.keyCode){case 33:oe();break;case 34:p();break;case 35:j();break;case 36:z();break;case 37:te();break;case 38:I();break;case 39:qe();break;case 40:U();break}}function I(Q){let q=We(u.value);if(f.value==="month"){if(q=Ne(q,{day:-7}),u.value.month!==q.month){h.value="prev",H.value=q.date;return}}else(f.value==="day"||f.value==="week"||f.value==="month-interval")&&(q=Ne(q,{minute:parseInt(e.intervalMinutes)}));h.value="prev",a.value=q.date}function U(Q){let q=We(u.value);if(f.value==="month"){if(q=Ne(q,{day:7}),u.value.month!==q.month){h.value="next",H.value=q.date;return}}else(f.value==="day"||f.value==="week"||f.value==="month-interval")&&(q=Ne(q,{minute:parseInt(e.intervalMinutes)}));h.value="next",a.value=q.date}function te(Q){let q=We(u.value);h.value="prev";do q=Ne(q,{day:-1});while(C.value[q.weekday]===0);if(f.value==="month"||f.value==="month-interval"){if(u.value.month!==q.month){H.value=q.date;return}}else if(f.value==="week"){if(q.weekday>u.value.weekday){H.value=q.date;return}}else if(f.value==="day"){H.value=q.date;return}a.value=q.date}function qe(Q){let q=We(u.value);h.value="next";do q=Ne(q,{day:1});while(C.value[q.weekday]===0);if(f.value==="month"||f.value==="month-interval"){if(u.value.month!==q.month){H.value=q.date;return}}else if(f.value==="week"){if(q.weekday<u.value.weekday){H.value=q.date;return}}else if(f.value==="day"){H.value=q.date;return}a.value=q.date}function oe(Q){let q=We(u.value);if(f.value==="month"||f.value==="month-interval"){q=Ne(q,{month:-1});const Te=q.day<=15?1:-1;for(;C.value[q.weekday]===0;)q=Ne(q,{day:Te})}else f.value==="day"?q=Ne(q,{day:-1}):f.value==="week"&&(q=Ne(q,{day:-7}));h.value="prev",a.value=q.date}function p(Q){let q=We(u.value);if(f.value==="month"||f.value==="month-interval"){q=Ne(q,{month:1});const Te=q.day<=15?1:-1;for(;C.value[q.weekday]===0;)q=Ne(q,{day:Te})}else f.value==="day"?q=Ne(q,{day:1}):f.value==="week"&&(q=Ne(q,{day:7}));h.value="next",a.value=q.date}function z(Q){let q=We(u.value);for(f.value==="month"||f.value==="month-interval"?q=ma(q):f.value==="week"&&(q=pt(q,e.weekdays,b.today));C.value[q.weekday]===0;)q=Ne(q,{day:-1});a.value=q.date}function j(Q){let q=We(u.value);for(f.value==="month"||f.value==="month-interval"?q=Jt(q):f.value==="week"&&(q=Pt(q,e.weekdays,b.today));C.value[q.weekday]===0;)q=Ne(q,{day:-1});a.value=q.date}return{startNavigation:K,endNavigation:y,tryFocus:_}}var qr=Kt({name:"QCalendarAgenda",directives:[wt],props:{...ta,...kr,...Wa,...ba,...Vt,...Da,...Ut},emits:["update:model-value",...ca,...la,...He("-date"),...He("-head-day"),...He("-time")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F(null),w=F(null),H=F(null),C=F({}),h=F({}),b=F({}),x=F("next"),K=F(it()),y=F("0000-00-00"),A=F(0),_=F(e.modelValue),N=Ot({width:0,height:0}),O=F(!1),I=F(null),U=F(null);J(()=>e.view,()=>{A.value=0});const te=L(()=>e.view==="month"?"month-interval":e.view),qe=Rt();if(qe===null)throw new Error("current instance is null");const{emitListeners:oe}=ia(qe),{isSticky:p}=Aa(e);J(p,c=>{});const{times:z,setCurrent:j,updateCurrent:Q}=na(e);Q(),j();const{weekdaySkips:q,parsedStart:Te,parsedEnd:xe,dayFormatter:Le,weekdayFormatter:je,ariaDateFormatter:ut,dayStyleDefault:Ue,getRelativeClasses:Ze}=aa(e,{startDate:K,endDate:y,times:z}),De=L(()=>Me(e.modelValue,z.now)||Te.value||z.today);H.value=De.value,w.value=De.value.date;const{renderValues:Ce}=ra(e,{parsedView:te,parsedValue:De,times:z}),{rootRef:Ae,scrollWidth:fe,__initCalendar:ke,__renderCalendar:Ke}=ea(e,ze,{scrollArea:s,pane:D}),{days:ge,parsedCellWidth:se,getScopeForSlot:G}=xa(e,{weekdaySkips:q,times:z,scrollArea:s,parsedStart:Te,parsedEnd:xe,maxDays:A,size:N,headerColumnRef:f}),{move:m}=da(e,{parsedView:te,parsedValue:De,weekdaySkips:q,direction:x,maxDays:A,times:z,emittedValue:_,emit:a}),{getDefaultMouseEventHandlers:Z}=ua(a,oe),{checkChange:$}=oa(a,{days:ge,lastStart:I,lastEnd:U}),{isKeyCode:ae}=$t(),{tryFocus:ve}=sa(e,{rootRef:Ae,focusRef:w,focusValue:H,datesRef:C,days:ge,parsedView:te,parsedValue:De,emittedValue:_,weekdaySkips:q,direction:x,times:z}),ye=L(()=>ge.value.length+(ue.value===!0?e.leftColumnOptions.length:0)+(Se.value===!0?e.rightColumnOptions.length:0)+ge.value.length===1&&parseInt(e.columnCount,10)>0?parseInt(e.columnCount,10):0),ue=L(()=>e.leftColumnOptions!==void 0&&Array.isArray(e.leftColumnOptions)),Se=L(()=>e.rightColumnOptions!==void 0&&Array.isArray(e.rightColumnOptions)),le=L(()=>{if(Ae.value){const c=N.width||Ae.value.getBoundingClientRect().width;if(c&&ye.value)return(c-fe.value)/ye.value+"px"}return 100/ye.value+"%"});J([ge],$,{deep:!0,immediate:!0}),J(()=>e.modelValue,(c,W)=>{if(_.value!==c){if(e.animated===!0){const l=re(we(c)),k=re(we(W));x.value=l>=k?"next":"prev"}_.value=c}w.value=c}),J(_,(c,W)=>{if(_.value!==e.modelValue){if(e.animated===!0){const l=re(we(c)),k=re(we(W));x.value=l>=k?"next":"prev"}a("update:model-value",c)}}),J(w,c=>{c&&(H.value=Me(c))}),J(H,c=>{C.value[w.value]?C.value[w.value].focus():ve()}),J(()=>e.maxDays,c=>{A.value=c}),Gt(()=>{C.value={}}),zt(()=>{ke()});function Je(){_.value=it()}function Be(c=1){m(c)}function Ee(c=1){m(-c)}function ct({width:c,height:W}){N.width=c,N.height=W}function Qe(c){return c.date===_.value}function Ie(c,W){const l=t["head-column"],k={column:c,index:W,days:ge.value},r=p.value===!0?e.cellWidth:le.value,d=e.focusable===!0&&e.focusType.includes("weekday"),v=e.columnOptionsId!==void 0?c[e.columnOptionsId]:void 0,S={maxWidth:r,width:r};return i("div",{key:v,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:S,onDragenter:n=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(n,"head-column",k)===!0?O.value=v:O.value="")},onDragover:n=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(n,"head-column",k)===!0?O.value=v:O.value="")},onDragleave:n=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(n,"head-column",k)===!0?O.value=v:O.value="")},onDrop:n=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(n,"head-column",k)===!0?O.value=v:O.value="")},...Z("-head-column",(n,g)=>({scope:{column:c,index:W},event:n}))},[e.noDefaultHeaderText!==!0&&Dt(c),l&&l(k),rt()])}function Dt(c){const W=t["head-column-label"],l={column:c},k=e.columnOptionsLabel!==void 0?c[e.columnOptionsLabel]:c.label,r=i("div",{class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,ellipsis:!0},style:{alignSelf:"center"}},[W&&W({scope:l}),!W&&i("span",{class:"ellipsis"},k)]);return e.dateHeader==="stacked"?r:i("div",{class:"q-calendar__header--inline",style:{height:"100%"}},[r])}function Ye(){return i("div",{roll:"presentation",class:{"q-calendar-agenda__head":!0,"q-calendar__sticky":p.value===!0},style:{marginRight:fe.value+"px"}},[_t()])}function _t(){return i("div",{ref:f,class:{"q-calendar-agenda__head--days__column":!0}},[yt(),ot()])}function yt(){return i("div",{class:{"q-calendar-agenda__head--days__weekdays":!0}},[...ht()])}function ot(){const c=t["head-days-events"];return Ha(()=>{if(b.value&&e.columnCount===0&&window)try{const W=window.getComputedStyle(b.value);h.value.parentElement.style.height=W.height,h.value.style.height=W.height}catch{}}),i("div",{class:{"q-calendar-agenda__head--days__event":!0}},[c&&i("div",{ref:h,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[c({scope:{days:ge.value,ref:b}})]),...gt()])}function ht(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[ue.value===!0&&e.leftColumnOptions.map((c,W)=>Ie(c,W)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,W)=>W+parseInt(e.columnIndexStart,10)).map(c=>mt(ge.value[0],c)),Se.value===!0&&e.rightColumnOptions.map((c,W)=>Ie(c,W))]:[ue.value===!0&&e.leftColumnOptions.map((c,W)=>Ie(c,W)),ge.value.map(c=>mt(c)),Se.value===!0&&e.rightColumnOptions.map((c,W)=>Ie(c,W))]}function gt(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,W)=>W+parseInt(e.columnIndexStart,10)).map(c=>st(ge.value[0],c))]:ge.value.map(c=>st(c))}function mt(c,W){const l=t["head-day"],k=t["head-date"],r=e.noActiveDate!==!0&&Qe(c),d=G(c,W);d.activeDate=r,d.droppable=O.value===c.date,d.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1;const v=p.value===!0?e.cellWidth:le.value,S=e.weekdayStyle||Ue,n={width:v,maxWidth:v,...S({scope:d})};p.value===!0&&(n.minWidth=v);const g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:d}):{},T=e.focusable===!0&&e.focusType.includes("weekday"),E={key:c.date+(W!==void 0?"-"+W:""),ref:B=>{C.value[c.date]=B},tabindex:T===!0?0:-1,class:{"q-calendar-agenda__head--day":!0,...g,...Ze(c),"q-active-date":r,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":T===!0},style:n,onDragenter:B=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(B,"head-day",d)===!0?O.value=c.date:O.value="")},onDragover:B=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(B,"head-day",d)===!0?O.value=c.date:O.value="")},onDragleave:B=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(B,"head-day",d)===!0?O.value=c.date:O.value="")},onDrop:B=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(B,"head-day",d)===!0?O.value=c.date:O.value="")},onFocus:B=>{T===!0&&(w.value=c.date)},...Z("-head-day",B=>({scope:d,event:B}))};return i("div",E,[l!==void 0&&l({scope:d}),l===void 0&&qt(c),l===void 0&&k&&k({scope:d}),rt()])}function qt(c){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Ge(c),e.noDefaultHeaderBtn!==!0&&Pe(c)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ge(c),e.noDefaultHeaderBtn!==!0&&Pe(c)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ge(c),e.noDefaultHeaderBtn!==!0&&Pe(c)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Ge(c),e.noDefaultHeaderBtn!==!0&&Pe(c)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Pe(c),e.noDefaultHeaderText!==!0&&Ge(c)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Pe(c),e.noDefaultHeaderText!==!0&&Ge(c)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&Pe(c),e.noDefaultHeaderText!==!0&&Ge(c)])}function st(c,W){const l=t["head-day-event"],k=e.noActiveDate!==!0&&Qe(c),r=G(c,W);r.activeDate=k,r.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1;const d=p.value===!0?e.cellWidth:le.value,v={width:d,maxWidth:d};return p.value===!0&&(v.minWidth=d),i("div",{key:"event-"+c.date+(W!==void 0?"-"+W:""),class:{"q-calendar-agenda__head--day__event":!0,...Ze(c),"q-active-date":k},style:v},[l&&l({scope:r})])}function Ge(c){const W=t["head-weekday-label"],l=G(c);l.shortWeekdayLabel=e.shortWeekdayLabel;const k={class:{"q-calendar-agenda__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",k,W&&W({scope:l})||pe(c,e.shortWeekdayLabel))}function pe(c,W){const l=je.value(c,W||e.weekdayBreakpoints[0]>0&&se.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&se.value<=e.weekdayBreakpoints[1]?ka(l,e.minWeekdayLabel):l)}function Pe(c){const W={class:{"q-calendar-agenda__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",W,lt(c))}function lt(c){const W=e.noActiveDate!==!0&&Qe(c),l=Le.value(c,!1),k=t["head-day-label"],r=t["head-day-button"],d={dayLabel:l,timestamp:c,activeDate:W,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(c.weekday):!1},v={class:{"q-calendar-agenda__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":c.current===!0,"q-calendar__focusable":!0},disabled:c.disabled,onKeydown:S=>{c.disabled!==!0&&ae(S,[13,32])&&(S.stopPropagation(),S.preventDefault())},onKeyup:S=>{c.disabled!==!0&&ae(S,[13,32])&&(_.value=c.date,oe.value.onClickDate!==void 0&&a("click-date",{scope:d}))},...Z("-date",(S,n)=>((n==="click-date"||n==="contextmenu-date")&&(_.value=c.date,n==="click-date"&&S.preventDefault()),{scope:d,event:S}))};return e.noAria!==!0&&(v.ariaLabel=ut.value(c)),r?r({scope:d}):wa(e,v,k?k({scope:d}):l)}function dt(){return i("div",{class:"q-calendar-agenda__body"},[R()])}function R(){return p.value===!0?i("div",{ref:s,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[ce()]):e.noScroll===!0?de():i("div",{ref:s,class:{"q-calendar-agenda__scroll-area":!0,"q-calendar__scroll":!0}},[de()])}function de(){return i("div",{ref:D,class:"q-calendar-agenda__pane"},[ce()])}function ce(){const c=t["day-container"];return i("div",{class:"q-calendar-agenda__day-container"},[p.value===!0&&e.noHeader!==!0&&Ye(),i("div",{style:{display:"flex",flexDirection:"row",height:"100%"}},[...he()]),c&&c({scope:{days:ge.value}})])}function he(){return ge.value.length===1&&parseInt(e.columnCount,10)>0?[ue.value===!0&&e.leftColumnOptions.map((c,W)=>be(c,W)),Array.apply(null,new Array(parseInt(e.columnCount,10))).map((c,W)=>W+parseInt(e.columnIndexStart,10)).map(c=>me(ge.value[0],0,c)),Se.value===!0&&e.rightColumnOptions.map((c,W)=>be(c,W))]:[ue.value===!0&&e.leftColumnOptions.map((c,W)=>be(c,W)),ge.value.map((c,W)=>me(c)),Se.value===!0&&e.rightColumnOptions.map((c,W)=>be(c,W))]}function be(c,W){const l=t.column,k={column:c,days:ge.value,index:W},r=p.value===!0?e.cellWidth:le.value,d=e.focusable===!0&&e.focusType.includes("day"),v=e.columnOptionsId!==void 0?c[e.columnOptionsId]:void 0;return i("div",{key:v,tabindex:d===!0?0:-1,class:{"q-calendar-agenda__day":!0,"q-column-day":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:{maxWidth:r,width:r},onDragenter:S=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(S,"column",k)===!0?O.value=v:O.value="")},onDragover:S=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(S,"column",k)===!0?O.value=v:O.value="")},onDragleave:S=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(S,"column",k)===!0?O.value=v:O.value="")},onDrop:S=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(S,"column",k)===!0?O.value=v:O.value="")},...Z("-column",(S,n)=>({scope:k,event:S}))},[l&&l({scope:k})])}function me(c,W,l){const k=t.day,r=G(c,l),d=p.value===!0?e.cellWidth:le.value,v={width:d,maxWidth:d};return p.value===!0&&(v.minWidth=d),v.height=parseInt(e.dayHeight,10)>0?ee(parseInt(e.dayHeight,10)):"auto",parseInt(e.dayMinHeight,10)>0&&(v.minHeight=ee(parseInt(e.dayMinHeight,10))),i("div",{key:c.date+(l!==void 0?":"+l:""),class:{"q-calendar-agenda__day":!0,...Ze(c)},style:v},[k&&k({scope:r})])}function ze(){const{start:c,end:W,maxDays:l}=Ce.value;(K.value!==c.date||y.value!==W.date||A.value!==l)&&(K.value=c.date,y.value=W.date,A.value=l);const k=N.width>0,r=Ht(i("div",{class:"q-calendar-agenda",key:K.value},[k===!0&&p.value!==!0&&e.noHeader!==!0&&Ye(),k===!0&&dt()]),[[wt,ct]]);if(e.animated===!0){const d="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:d,appear:!0},()=>r)}return r}return u({prev:Ee,next:Be,move:m,moveToToday:Je,updateCurrent:Q}),()=>Ke()}}),ln=Kt({name:"QCalendarDay",directives:[wt],props:{...ta,...Va,...Wa,...ba,...Vt,...Da,...Ut},emits:["update:model-value",...ca,...la,...He("-date"),...He("-interval"),...He("-head-intervals"),...He("-head-day"),...He("-time")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F(null),w=F(null),H=F(null),C=F({}),h=F({}),b=F({}),x=F("next"),K=F(e.modelValue||it()),y=F("0000-00-00"),A=F(0),_=F(e.modelValue),N=Ot({width:0,height:0}),O=F(!1),I=F(!1),U=F(null),te=F(null);J(()=>e.view,()=>{A.value=0});const qe=L(()=>e.view==="month"?"month-interval":e.view),oe=Rt();if(oe===null)throw new Error("current instance is null");const{emitListeners:p}=ia(oe),{isSticky:z}=Aa(e),{times:j,setCurrent:Q,updateCurrent:q}=na(e);q(),Q();const{weekdaySkips:Te,parsedStart:xe,parsedEnd:Le,dayFormatter:je,weekdayFormatter:ut,ariaDateFormatter:Ue,dayStyleDefault:Ze,getRelativeClasses:De}=aa(e,{startDate:K,endDate:y,times:j}),Ce=L(()=>Me(e.modelValue,j.now)||xe.value||j.today);H.value=Ce.value,w.value=Ce.value.date;const{renderValues:Ae}=ra(e,{parsedView:qe,parsedValue:Ce,times:j}),{rootRef:fe,scrollWidth:ke,__initCalendar:Ke,__renderCalendar:ge}=ea(e,ft,{scrollArea:s,pane:D}),{days:se,intervals:G,intervalFormatter:m,ariaDateTimeFormatter:Z,parsedCellWidth:$,getIntervalClasses:ae,showIntervalLabelDefault:ve,styleDefault:ye,getTimestampAtEventInterval:ue,getTimestampAtEvent:Se,getScopeForSlot:le,scrollToTime:Je,heightToMinutes:Be,timeDurationHeight:Ee,timeStartPos:ct}=xa(e,{weekdaySkips:Te,times:j,scrollArea:s,parsedStart:xe,parsedEnd:Le,maxDays:A,size:N,headerColumnRef:f}),{move:Qe}=da(e,{parsedView:qe,parsedValue:Ce,weekdaySkips:Te,direction:x,maxDays:A,times:j,emittedValue:_,emit:a}),{getDefaultMouseEventHandlers:Ie}=ua(a,p),{checkChange:Dt}=oa(a,{days:se,lastStart:U,lastEnd:te}),{isKeyCode:Ye}=$t(),{tryFocus:_t}=sa(e,{rootRef:fe,focusRef:w,focusValue:H,datesRef:C,days:se,parsedView:qe,parsedValue:Ce,emittedValue:_,weekdaySkips:Te,direction:x,times:j}),yt=L(()=>qe.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):qe.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:se.value.length),ot=L(()=>fe.value?parseInt(getComputedStyle(fe.value).getPropertyValue("--calendar-intervals-width"),10):0),ht=L(()=>{if(fe.value){const o=N.width||fe.value.getBoundingClientRect().width;if(o&&ot.value&&yt.value)return(o-ke.value-ot.value)/yt.value+"px"}return 100/yt.value+"%"});J([se],Dt,{deep:!0,immediate:!0}),J(()=>e.modelValue,(o,P)=>{if(_.value!==e.modelValue){if(e.animated===!0){const V=re(we(o)),Y=re(we(P));x.value=V>=Y?"next":"prev"}_.value=o}w.value=o}),J(_,(o,P)=>{if(_.value!==e.modelValue){if(e.animated===!0){const V=re(we(o)),Y=re(we(P));x.value=V>=Y?"next":"prev"}a("update:model-value",o)}}),J(w,o=>{o&&(H.value=Me(o))}),J(H,o=>{C.value[w.value]?C.value[w.value].focus():_t()}),J(()=>e.maxDays,o=>{A.value=o}),Gt(()=>{C.value={},h.value={},b.value={}}),zt(()=>{Ke()});function gt(){_.value=it()}function mt(o=1){Qe(o)}function qt(o=1){Qe(-o)}function st({width:o,height:P}){N.width=o,N.height=P}function Ge(o){return o.date===_.value}function pe(){return i("div",{roll:"presentation",class:{"q-calendar-day__head":!0,"q-calendar__sticky":z.value===!0},style:{marginRight:ke.value+"px"}},[Pe(),lt()])}function Pe(){const o=t["head-intervals"],P={timestamps:se.value,days:se.value,date:e.modelValue};return i("div",{class:{"q-calendar-day__head--intervals":!0,"q-calendar__sticky":z.value===!0},...Ie("-head-intervals",V=>({scope:P,event:V}))},[o&&o({scope:P})])}function lt(){return i("div",{ref:f,class:{"q-calendar-day__head--days__column":!0}},[dt(),R()])}function dt(){return i("div",{class:{"q-calendar-day__head--days__weekdays":!0}},[...de()])}function R(){const o=t["head-days-events"];return Ha(()=>{if(b.value&&parseInt(e.columnCount,10)===0&&window)try{const P=window.getComputedStyle(b.value);h.value.parentElement.style.height=P.height,h.value.style.height=P.height}catch{}}),i("div",{class:{"q-calendar-day__head--days__event":!0}},[o&&i("div",{ref:h,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[o({scope:{days:se.value,ref:b}})]),...ce()])}function de(){return se.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,P)=>P+parseInt(e.columnIndexStart,10)).map(o=>he(se.value[0],o)):se.value.map(o=>he(o))}function ce(){return se.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,P)=>P+parseInt(e.columnIndexStart,10)).map(o=>me(se.value[0],o)):se.value.map(o=>me(o))}function he(o,P){const V=t["head-day"],Y=t["head-date"],ne=e.noActiveDate!==!0&&Ge(o),ie=le(o,P);ie.activeDate=ne,ie.droppable=O.value===o.date,ie.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const Ve=z.value===!0?e.cellWidth:ht.value,Fe=e.weekdayStyle||Ze,Mt={width:Ve,maxWidth:Ve,minWidth:Ve,...Fe({scope:ie})};z.value===!0&&(Mt.minWidth=Ve);const qa=typeof e.weekdayClass=="function"?e.weekdayClass({scope:ie}):{},fa=e.focusable===!0&&e.focusType.includes("weekday"),$e=o.date+(P!==void 0?"-"+P:""),va={key:$e,ref:at=>{C.value[$e]=at},tabindex:fa===!0?0:-1,class:{"q-calendar-day__head--day":!0,...qa,...De(o),"q-active-date":ne,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":fa===!0},style:Mt,onFocus:at=>{fa===!0&&(w.value=$e)},onKeydown:at=>{o.disabled!==!0&&Ye(at,[13,32])&&(at.stopPropagation(),at.preventDefault())},onKeyup:at=>{o.disabled!==!0&&Ye(at,[13,32])&&(_.value=o.date)},...Ie("-head-day",at=>({scope:ie,event:at})),onDragenter:at=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(at,"head-day",ie)===!0?O.value=o.date:O.value="")},onDragover:at=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(at,"head-day",ie)===!0?O.value=o.date:O.value="")},onDragleave:at=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(at,"head-day",ie)===!0?O.value=o.date:O.value="")},onDrop:at=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(at,"head-day",ie)===!0?O.value=o.date:O.value="")}};return i("div",va,[V!==void 0&&V({scope:ie}),V===void 0&&k(o,P),V===void 0&&be(o),V===void 0&&Y&&Y({scope:ie}),V===void 0&&r(o,P),rt()])}function be(o){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&ze(o),e.noDefaultHeaderBtn!==!0&&W(o)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ze(o),e.noDefaultHeaderBtn!==!0&&W(o)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ze(o),e.noDefaultHeaderBtn!==!0&&W(o)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&ze(o),e.noDefaultHeaderBtn!==!0&&W(o)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&W(o),e.noDefaultHeaderText!==!0&&ze(o)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&W(o),e.noDefaultHeaderText!==!0&&ze(o)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&W(o),e.noDefaultHeaderText!==!0&&ze(o)])}function me(o,P){const V=t["head-day-event"],Y=e.noActiveDate!==!0&&Ge(o),ne=le(o,P);ne.activeDate=Y,ne.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const ie=z.value===!0?ee($.value):ht.value,Ve={width:ie,maxWidth:ie,minWidth:ie};return z.value===!0&&(Ve.minWidth=ie),i("div",{key:"event-"+o.date+(P!==void 0?"-"+P:""),class:{"q-calendar-day__head--day__event":!0,...De(o),"q-active-date":Y},style:Ve},[V&&V({scope:ne})])}function ze(o){const P=t["head-weekday-label"],V=e.shortWeekdayLabel===!0,Y=le(o);Y.shortWeekdayLabel=e.shortWeekdayLabel,Y.disabled=e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1;const ne={class:{"q-calendar-day__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",ne,P&&P({scope:Y})||c(o,V))}function c(o,P){const V=ut.value(o,P||e.weekdayBreakpoints[0]>0&&$.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-day__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&$.value<=e.weekdayBreakpoints[1]?ka(V,e.minWeekdayLabel):V)}function W(o){const P={class:{"q-calendar-day__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",P,l(o))}function l(o){const P=e.noActiveDate!==!0&&Ge(o),V=je.value(o,!1),Y=t["head-day-label"],ne=t["head-day-button"],ie={dayLabel:V,timestamp:o,activeDate:P,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(o.weekday):!1},Ve={class:{"q-calendar-day__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":o.current===!0,"q-calendar__focusable":!0},disabled:o.disabled,onKeydown:Fe=>{o.disabled!==!0&&Ye(Fe,[13,32])&&(Fe.stopPropagation(),Fe.preventDefault())},onKeyup:Fe=>{o.disabled!==!0&&Ye(Fe,[13,32])&&(_.value=o.date,p.value.onClickDate!==void 0&&a("click-date",{scope:ie}))},...Ie("-date",(Fe,Mt)=>((Mt==="click-date"||Mt==="contextmenu-date")&&(_.value=o.date,Mt==="click-date"&&Fe.preventDefault()),{scope:ie,event:Fe}))};return e.noAria!==!0&&(Ve.ariaLabel=Ue.value(o)),ne?ne({scope:ie}):wa(e,Ve,Y?Y({scope:ie}):V)}function k(o,P){const V=t["column-header-before"];if(V)return i("div",{class:"q-calendar-day__column-header--before"},[V({scope:{timestamp:o,columnIndex:P}})])}function r(o,P){const V=t["column-header-after"];if(V)return i("div",{class:"q-calendar-day__column-header--after"},[V({scope:{timestamp:o,columnIndex:P}})])}function d(){return i("div",{class:"q-calendar-day__body"},[v()])}function v(){return z.value===!0?i("div",{ref:s,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[z.value!==!0&&M(),n()]):e.noScroll===!0?S():i("div",{ref:s,class:{"q-calendar-day__scroll-area":!0,"q-calendar__scroll":!0}},[S()])}function S(){return i("div",{ref:D,class:"q-calendar-day__pane"},[M(),n()])}function n(){const o=t["day-container"];return i("div",{class:"q-calendar-day__day-container"},[z.value===!0&&e.noHeader!==!0&&pe(),i("div",{style:{display:"flex",flexDirection:"row"}},[z.value===!0&&M(),...g()]),o&&o({scope:{days:se.value}})])}function g(){return se.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((o,P)=>P+parseInt(e.columnIndexStart,10)).map(o=>T(se.value[0],0,o)):se.value.map((o,P)=>T(o,P))}function T(o,P,V){const Y=t["day-body"],ne=le(o,V),ie=z.value===!0?e.cellWidth:ht.value,Ve={width:ie,maxWidth:ie,minWidth:ie};return z.value===!0&&(Ve.minWidth=ie),i("div",{key:o.date+(V!==void 0?":"+V:""),class:{"q-calendar-day__day":!0,...De(o)},style:Ve},[...E(P,V),Y&&Y({scope:ne})])}function E(o,P){return G.value[o].map(V=>B(V,P))}function B(o,P){const V=ee(e.intervalHeight),Y=e.intervalStyle||ye,ne=t["day-interval"],ie=le(o,P);ie.droppable=I.value===It(o);const Ve=typeof e.intervalClass=="function"?e.intervalClass({scope:ie}):{},Fe=e.focusable===!0&&e.focusType.includes("interval"),qa={key:Ka(o),tabindex:Fe===!0?0:-1,class:{"q-calendar-day__day-interval":o.minute===0,"q-calendar-day__day-interval--section":o.minute!==0,...Ve,...ae(o,e.selectedDates,e.selectedStartEndDates),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Fe===!0},style:{height:V,...Y({scope:ie})},onDragenter:$e=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc($e,"interval",ie)===!0?I.value=It(o):I.value="")},onDragover:$e=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc($e,"interval",ie)===!0?I.value=It(o):I.value="")},onDragleave:$e=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc($e,"interval",ie)===!0?I.value=It(o):I.value="")},onDrop:$e=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc($e,"interval",ie)===!0?I.value=It(o):I.value="")},onKeydown:$e=>{Ye($e,[13,32])&&($e.stopPropagation(),$e.preventDefault())},onKeyup:$e=>{if(Ye($e,[13,32])){const va=le(o,P);_.value=va.timestamp.date,p.value.onClickTime!==void 0&&a("click-time",{scope:va,event:$e})}},...Ie("-time",$e=>({scope:le(ue($e,o,e.timeClicksClamped,j.now),P),event:$e}))};e.noAria!==!0&&(qa.ariaLabel=Z.value(o));const fa=ne?ne({scope:ie}):void 0;return i("div",qa,[fa,rt()])}function M(){const o={ariaHidden:"true",class:{"q-calendar-day__intervals-column":!0,"q-calendar__ellipsis":!0,"q-calendar__sticky":z.value===!0},...Ie("-interval",P=>({scope:{timestamp:Se(P,xe.value,e.timeClicksClamped,j.now)},event:P}))};return i("div",o,_e())}function _e(){return G.value[0].map(o=>X(o))}function X(o){const P=t["interval-label"],V=ee(e.intervalHeight),Y=e.shortIntervalLabel,Ve=(e.showIntervalLabel||ve)(o)?m.value(o,Y):void 0;return i("div",{key:o.time,class:{"q-calendar-day__interval":o.minute===0,"q-calendar-day__interval--section":o.minute!==0},style:{height:V}},[i("div",{class:"q-calendar-day__interval--text q-calendar__overflow-wrap"},[P?P({scope:{timestamp:o,label:Ve}}):Ve])])}function ft(){const{start:o,end:P,maxDays:V}=Ae.value;(K.value!==o.date||y.value!==P.date||A.value!==V)&&(K.value=o.date,y.value=P.date,A.value=V);const Y=N.width>0,ne=Ht(i("div",{key:K.value,class:"q-calendar-day"},[Y===!0&&z.value!==!0&&e.noHeader!==!0&&pe(),Y&&d()]),[[wt,st]]);if(e.animated===!0){const ie="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:ie,appear:!0},()=>ne)}return ne}return u({prev:qt,next:mt,move:Qe,moveToToday:gt,updateCurrent:q,timeStartPos:ct,timeDurationHeight:Ee,heightToMinutes:Be,scrollToTime:Je}),()=>ge()}});const wn={dayHeight:{type:[Number,String],default:0,validator:tt},dayMinHeight:{type:[Number,String],default:0,validator:tt},dayStyle:{type:Function,default:null},dayClass:{type:Function,default:null},weekdayStyle:{type:Function,default:null},weekdayClass:{type:Function,default:null},dayPadding:String,minWeeks:{type:[Number,String],validator:tt,default:1},shortMonthLabel:Boolean,showWorkWeeks:Boolean,showMonthLabel:{type:Boolean,default:!0},showDayOfYearLabel:Boolean,enableOutsideDays:Boolean,noOutsideDays:Boolean,hover:Boolean,miniMode:{type:[Boolean,String],validator:e=>[!0,!1,"auto"].includes(e)},breakpoint:{type:[Number,String],default:"md",validator:e=>["xs","sm","md","lg","xl"].includes(e)||tt(e)},monthLabelSize:{type:String,default:"sm",validator:e=>["xxs","xs","sm","md","lg","xl","xxl"].includes(e)||!!e&&e.length>0}};function Fr(e,t,{weekdaySkips:a,times:u,parsedStart:s,parsedEnd:D,size:f,headerColumnRef:w}){const H=L(()=>parseInt(e.minWeeks,10)),C=L(()=>H.value*e.weekdays.length),h=L(()=>U(qe(s.value))),b=L(()=>te(oe(D.value))),x=L(()=>{let z=0;return e.cellWidth?z=e.cellWidth:f.width>0&&w.value&&(z=w.value.offsetWidth/e.weekdays.length),z}),K=L(()=>Sa(h.value,b.value,u.today,a.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER,C.value)),y=L(()=>{const z=u.today,j=U(z),Q=te(z);return Sa(j,Q,z,a,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,e.weekdays.length,e.weekdays.length)}),A=L(()=>{const z={timeZone:"UTC",month:"long"},j={timeZone:"UTC",month:"short"};return Zt(e.locale,(Q,q)=>q?j:z)}),_=L(()=>{switch(e.breakpoint){case"xs":return 300;case"sm":return 350;case"md":return 400;case"lg":return 450;case"xl":return 500;default:return parseInt(e.breakpoint,10)}}),N=L(()=>{switch(e.monthLabelSize){case"xxs":return".4em";case"xs":return".6em";case"sm":return".8em";case"md":return"1.0em";case"lg":return"1.2em";case"xl":return"1.4em";case"xxl":return"1.6em";default:return e.monthLabelSize}});let O=!0;const I=L(()=>{const z=e.miniMode===!0||e.miniMode==="auto"&&e.breakpoint!==void 0&&f.width<_.value;return O===!0&&(O=!1,t("mini-mode",z)),z});J(I,z=>{t("mini-mode",z)});function U(z){return pt(z,e.weekdays,u.today)}function te(z){return Pt(z,e.weekdays,u.today)}function qe(z){return ma(z)}function oe(z){return Jt(z)}function p(z){const j=re(z);return j<re(s.value)||j>re(D.value)}return{parsedCellWidth:x,parsedMinWeeks:H,parsedMinDays:C,parsedMonthStart:h,parsedMonthEnd:b,parsedBreakpoint:_,parsedMonthLabelSize:N,days:K,todayWeek:y,isMiniMode:I,monthFormatter:A,isOutside:p}}var Cr=Kt({name:"QCalendarMonth",directives:[wt],props:{...ta,...wn,...Vt,...Da,...Ut},emits:["update:model-value",...ca,...la,"mini-mode",...He("-date"),...He("-day"),...He("-head-workweek"),...He("-head-day"),...He("-workweek")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F(null),w=F(null),H=F(null),C=F({}),h=F([]),b=F([]),x=F("next"),K=F(e.modelValue||it()),y=F("0000-00-00"),A=F(0),_=F(e.modelValue),N=Ot({width:0,height:0}),O=F(!1),I=F(!1),U=F(null),te=F(null),qe=L(()=>"month"),oe=Rt();if(oe===null)throw new Error("current instance is null");const{emitListeners:p}=ia(oe),{isSticky:z}=Aa(e);J(z,l=>{});const{times:j,setCurrent:Q,updateCurrent:q}=na(e);q(),Q();const{weekdaySkips:Te,parsedStart:xe,parsedEnd:Le,dayFormatter:je,weekdayFormatter:ut,ariaDateFormatter:Ue,dayStyleDefault:Ze,getRelativeClasses:De}=aa(e,{startDate:K,endDate:y,times:j}),Ce=L(()=>Me(e.modelValue,j.now)||xe.value||j.today);H.value=Ce.value,w.value=Ce.value.date;const Ae=L(()=>{const l={};return e.dayPadding!==void 0&&(l.padding=e.dayPadding),l.minWidth=ct.value,l.maxWidth=ct.value,l.width=ct.value,l}),{renderValues:fe}=ra(e,{parsedView:qe,times:j,parsedValue:Ce}),{rootRef:ke,__initCalendar:Ke,__renderCalendar:ge}=ea(e,W,{scrollArea:s,pane:D}),{days:se,todayWeek:G,isMiniMode:m,parsedCellWidth:Z,parsedMonthLabelSize:$,isOutside:ae,monthFormatter:ve}=Fr(e,a,{weekdaySkips:Te,times:j,parsedStart:xe,parsedEnd:Le,size:N,headerColumnRef:f}),{move:ye}=da(e,{parsedView:qe,parsedValue:Ce,weekdaySkips:Te,direction:x,maxDays:A,times:j,emittedValue:_,emit:a}),{getDefaultMouseEventHandlers:ue}=ua(a,p),{checkChange:Se}=oa(a,{days:se,lastStart:U,lastEnd:te}),{isKeyCode:le}=$t(),{tryFocus:Je}=sa(e,{rootRef:ke,focusRef:w,focusValue:H,datesRef:C,days:se,parsedView:qe,parsedValue:Ce,emittedValue:_,weekdaySkips:Te,direction:x,times:j}),Be=L(()=>ke.value&&e.showWorkWeeks===!0?parseInt(getComputedStyle(ke.value).getPropertyValue(m.value===!0?"--calendar-mini-work-week-width":"--calendar-work-week-width"),10):0),Ee=L(()=>e.weekdays.length),ct=L(()=>{if(ke.value){const l=N.width||ke.value.getBoundingClientRect().width;if(l&&Ee.value)return(l-Be.value)/Ee.value+"px"}return 100/Ee.value+"%"}),Qe=L(()=>e.focusable===!0&&e.focusType.includes("day")&&m.value!==!0),Ie=L(()=>e.focusable===!0&&e.focusType.includes("date")&&Qe.value!==!0);J([se],Se,{deep:!0,immediate:!0}),J(()=>e.modelValue,(l,k)=>{if(_.value!==l){if(e.animated===!0){const r=re(we(l)),d=re(we(k));x.value=r>=d?"next":"prev"}_.value=l}w.value=l}),J(_,(l,k)=>{if(_.value!==e.modelValue){if(e.animated===!0){const r=re(we(l)),d=re(we(k));x.value=r>=d?"next":"prev"}a("update:model-value",l)}}),J(w,l=>{l&&(H.value=Me(l),_.value!==l&&(_.value=l))}),J(H,l=>{C.value[w.value]?C.value[w.value].focus():Je()}),Gt(()=>{C.value={},h.value=[],b.value=[],Ha(()=>{gt()})}),zt(()=>{Ke(),gt()});function Dt(){_.value=it()}function Ye(l=1){ye(l)}function _t(l=1){ye(-l)}function yt({width:l,height:k}){N.width=l,N.height=k}function ot(l){return l.date===_.value}function ht(l){for(let k=0;k<l.length;++k)if(l[k].current===!0)return{timestamp:l[k]};return{timestamp:!1}}function gt(){if(!(m.value===!0||e.dayHeight!==0||t.week===void 0)&&window)for(const k in h.value){const r=h.value[k];if(r===void 0)continue;const d=b.value[k];if(d===void 0)continue;const v=window.getComputedStyle(r),S=parseFloat(v.marginTop,10)+parseFloat(v.marginBottom,10);r.clientHeight+S>d.clientHeight&&(d.style.height=r.clientHeight+S+"px")}}function mt(){return i("div",{class:"q-calendar-month__body"},[...R()])}function qt(){return i("div",{role:"presentation",class:"q-calendar-month__head"},[e.showWorkWeeks===!0&&Ge(),i("div",{class:"q-calendar-month__head--wrapper"},[st()])])}function st(){return i("div",{ref:f,class:{"q-calendar-month__head--weekdays":!0}},[...pe()])}function Ge(){const l=t["head-workweek"],k={start:xe.value,end:Le.value,miniMode:m.value};return i("div",{class:"q-calendar-month__head--workweek",...ue("-head-workweek",r=>({scope:k,event:r}))},l?l({scope:k}):"#")}function pe(){return G.value.map((l,k)=>Pe(l,k))}function Pe(l,k){const r=t["head-day"],d=se.value.filter(X=>X.weekday===l.weekday),v=d[0].weekday,n={activeDate:e.noActiveDate!==!0&&ot(l),weekday:v,timestamp:l,days:d,index:k,miniMode:m.value,droppable:O.value===l.weekday,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=typeof e.weekdayClass=="function"?e.weekdayClass({scope:n}):{},T=e.focusable===!0&&e.focusType.includes("weekday"),E=ct.value,B=e.weekdayStyle||Ze,M={width:E,maxWidth:E,minWidth:E,...B({scope:n})},_e={key:l.date+(k!==void 0?"-"+k:""),tabindex:T===!0?0:-1,class:{"q-calendar-month__head--weekday":!0,...g,"q-disabled-day disabled":n.disabled===!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0,"q-calendar__focusable":T===!0},style:M,onDragenter:X=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(X,"head-day",n)===!0?O.value=l.weekday:O.value="")},onDragover:X=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(X,"head-day",n)===!0?O.value=l.weekday:O.value="")},onDragleave:X=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(X,"head-day",n)===!0?O.value=l.weekday:O.value="")},onDrop:X=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(X,"head-day",n)===!0?O.value=l.weekday:O.value="")},onFocus:X=>{T===!0&&(w.value=l.date)},...ue("-head-day",X=>({scope:n,event:X}))};return e.noAria!==!0&&(_e.ariaLabel=ut.value(l,!1)),i("div",_e,[r===void 0&&dt(l,e.shortWeekdayLabel||m.value),r!==void 0&&r({scope:n}),lt(l,k),T===!0&&rt()])}function lt(l,k){const r=t["head-day-event"],d=e.noActiveDate!==!0&&ot(l),v=se.value.filter(B=>B.weekday===l.weekday),n={weekday:v[0].weekday,timestamp:l,days:v,index:k,miniMode:m.value,activeDate:d,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=ct.value,T=e.weekdayStyle||Ze,E={width:g,maxWidth:g,minWidth:g,...T({scope:n})};return i("div",{key:"event-"+l.date+(k!==void 0?"-"+k:""),class:{"q-calendar-month__head--event":!0},style:E},[r!==void 0&&r({scope:n})])}function dt(l,k){const r=ut.value(l,k||e.weekdayBreakpoints[0]>0&&Z.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},m.value===!0&&e.shortWeekdayLabel===!0||e.weekdayBreakpoints[1]>0&&Z.value<=e.weekdayBreakpoints[1]?ka(r,e.minWeekdayLabel):r)}function R(){const l=e.weekdays.length,k=[];for(let r=0;r<se.value.length;r+=l)k.push(de(se.value.slice(r,r+l),r/l));return k}function de(l,k){const r=t.week,d=e.weekdays,v={week:l,weekdays:d,miniMode:m.value},S={};S.height=e.dayHeight>0&&m.value!==!0?ee(parseInt(e.dayHeight,10)):"auto",e.dayMinHeight>0&&m.value!==!0&&(S.minHeight=ee(parseInt(e.dayMinHeight,10)));const n=parseInt(e.dayHeight,10)===0&&parseInt(e.dayMinHeight,10)===0;return i("div",{key:l[0].date,ref:g=>{b.value[k]=g},class:{"q-calendar-month__week--wrapper":!0,"q-calendar-month__week--auto-height":n},style:S},[e.showWorkWeeks===!0?ce(l):void 0,i("div",{class:"q-calendar-month__week"},[i("div",{class:"q-calendar-month__week--days"},l.map((g,T)=>he(g))),m.value!==!0&&r!==void 0?i("div",{ref:g=>{h.value[k]=g},class:"q-calendar-month__week--events"},r({scope:v})):void 0])])}function ce(l){const k=t.workweek,r=l.length>2?l[2]:l[0],{timestamp:d}=ht(l),v=Number(r.workweek).toLocaleString(e.locale),S={workweekLabel:v,week:l,miniMode:m.value};return i("div",{key:r.workweek,class:{"q-calendar-month__workweek":!0,...De(d!==!1?d:r,!1)},...ue("-workweek",n=>({scope:S,event:n}))},k?k({scope:S}):v)}function he(l){const k=t.day,r=e.dayStyle||Ze,d=ae(l),v=e.noActiveDate!==!0&&Ce.value.date===l.date,S=d===!1&&e.showMonthLabel===!0&&se.value.find(M=>M.month===l.month).day===l.day,n={outside:d,timestamp:l,miniMode:m.value,activeDate:v,hasMonth:S,droppable:I.value===l.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},g=Object.assign({...Ae.value},r({scope:n})),T=typeof e.dayClass=="function"?e.dayClass({scope:n}):{},E={key:l.date,ref:M=>{Qe.value===!0&&(C.value[l.date]=M)},tabindex:Qe.value===!0?0:-1,class:{"q-calendar-month__day":!0,...T,...De(l,d,e.selectedDates,e.selectedStartEndDates,e.hover),"q-active-date":v===!0,disabled:e.enableOutsideDays!==!0&&d===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Qe.value===!0},style:g,onFocus:M=>{Qe.value===!0&&(w.value=l.date)},onKeydown:M=>{d!==!0&&l.disabled!==!0&&le(M,[13,32])&&(M.stopPropagation(),M.preventDefault())},onKeyup:M=>{d!==!0&&l.disabled!==!0&&le(M,[13,32])&&(M.stopPropagation(),M.preventDefault(),p.value.onClickDay!==void 0&&m.value!==!0&&a("click-day",{scope:n,event:M}))},...ue("-day",M=>({scope:n,event:M}))};return d!==!0&&Object.assign(E,{onDragenter:M=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(M,"day",n)===!0?I.value=l.date:I.value="")},onDragover:M=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(M,"day",n)===!0?I.value=l.date:I.value="")},onDragleave:M=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(M,"day",n)===!0?I.value=l.date:I.value="")},onDrop:M=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(M,"day",n)===!0?I.value=l.date:I.value="")}}),e.noAria!==!0&&(E.ariaLabel=Ue.value(l)),i("div",E,[be(l,d,S),i("div",{class:{"q-calendar-month__day--content":!0}},k?k({scope:n}):void 0),Qe.value===!0&&rt()])}function be(l,k,r){let d,v;const S=[me(l,k)];m.value!==!0&&r===!0&&N.width>340&&(v=c(l,k)),m.value!==!0&&e.showDayOfYearLabel===!0&&v===void 0&&N.width>300&&(d=ze(l,k)),e.dateAlign==="left"?(d!==void 0&&S.push(d),v!==void 0&&S.push(v)):e.dateAlign==="right"?(d!==void 0&&S.unshift(d),v!==void 0&&S.unshift(v)):(d=void 0,v=void 0);const n={class:{"q-calendar-month__day--label__wrapper":!0,"q-calendar__ellipsis":!0,["q-calendar__"+e.dateAlign]:d===void 0&&v===void 0,"q-calendar__justify":d!==void 0||v!==void 0}};return i("div",n,S)}function me(l,k){if(k===!0&&e.noOutsideDays===!0)return;const r=je.value(l,!1),d=t["head-day-label"],v=t["head-day-button"],S=e.selectedDates&&e.selectedDates.length>0&&e.selectedDates.includes(l.date),n=e.noActiveDate!==!0&&ot(l),g={dayLabel:r,timestamp:l,outside:k,activeDate:n,selectedDate:S,miniMode:m.value,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(l.weekday):!1},T={key:l.date,ref:E=>{Ie.value===!0&&(C.value[l.date]=E)},tabindex:Ie.value===!0?0:-1,class:{"q-calendar-month__day--label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":l.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ie.value===!0},disabled:l.disabled===!0||e.enableOutsideDays!==!0&&k===!0,onFocus:E=>{Ie.value===!0&&(w.value=l.date)},onKeydown:E=>{k!==!0&&l.disabled!==!0&&le(E,[13,32])&&(E.stopPropagation(),E.preventDefault())},onKeyup:E=>{Ie.value===!0&&k!==!0&&l.disabled!==!0&&le(E,[13,32])&&(E.stopPropagation(),E.preventDefault(),_.value=l.date,p.value.onClickDate!==void 0&&a("click-date",{scope:g,event:E}))},...ue("-date",(E,B)=>(E.stopPropagation(),(B==="click-date"||B==="contextmenu-date")&&(_.value=l.date),{scope:g,event:E}))};return e.noAria!==!0&&(T.ariaLabel=Ue.value(l)),[v?v({scope:g}):wa(e,T,d?d({scope:g}):r),Ie.value===!0&&rt()]}function ze(l,k){if(k===!0&&e.noOutsideDays===!0)return;const r=t["day-of-year"];return i("span",{class:{"q-calendar-month__day--day-of-year":!0,"q-calendar__ellipsis":!0}},r?r({scope:{timestamp:l}}):l.doy)}function c(l,k){if(k===!0&&e.noOutsideDays===!0)return;const r=t["month-label"],d=ve.value(l,e.shortMonthLabel||N.width<500),v={monthLabel:d,timestamp:l,miniMode:m.value},S={};return m.value!==!0&&$.value!==void 0&&(S.fontSize=$.value),i("span",{class:"q-calendar-month__day--month q-calendar__ellipsis",style:S},[r?r({scope:v}):m.value!==!0?d:void 0])}function W(){const{start:l,end:k}=fe.value;K.value=l.date,y.value=k.date;const r=N.width>0,d=Ht(i("div",{class:{"q-calendar-mini":m.value===!0,"q-calendar-month":!0},key:K.value},[r===!0&&e.noHeader!==!0&&qt(),r===!0&&mt()]),[[wt,yt]]);if(e.animated===!0){const v="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:v,appear:!0},()=>d)}return d}return u({prev:_t,next:Ye,move:ye,moveToToday:Dt,updateCurrent:q}),()=>ge()}}),Dn=Kt({name:"QCalendarResource",props:{...ta,...mn,...Va,...Wa,...ba,...Vt,...Ut},emits:["update:model-value","update:model-resources","resource-expanded",...ca,...la,...He("-date"),...He("-interval"),...He("-head-day"),...He("-time"),...He("-head-resources"),...He("-resource")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F(null),w=F(null),H=F(null),C=F(null),h=F({}),b=F({}),x=F("next"),K=F(it()),y=F("0000-00-00"),A=F(0),_=F(e.modelValue),N=Ot({width:0,height:0}),O=F(!1),I=F(!1),U=F(!1),te=F(null),qe=F(null);J(()=>e.view,()=>{A.value=0});const oe=L(()=>e.view==="month"?"month-interval":e.view),p=L(()=>parseInt(e.cellWidth,10)),z=Rt();if(z===null)throw new Error("current instance is null");const{emitListeners:j}=ia(z),{times:Q,setCurrent:q,updateCurrent:Te}=na(e);Te(),q();const{weekdaySkips:xe,parsedStart:Le,parsedEnd:je,dayStyleDefault:ut}=aa(e,{startDate:K,endDate:y,times:Q}),Ue=L(()=>Me(e.modelValue,Q.now)||Le.value||Q.today);C.value=Ue.value,H.value=Ue.value.date;const{renderValues:Ze}=ra(e,{parsedView:oe,times:Q,parsedValue:Ue}),{rootRef:De,__initCalendar:Ce,__renderCalendar:Ae}=ea(e,dt,{scrollArea:s,pane:D}),{days:fe,intervals:ke,intervalFormatter:Ke,styleDefault:ge,scrollToTimeX:se,timeDurationWidth:G,timeStartPosX:m,widthToMinutes:Z}=xa(e,{weekdaySkips:xe,times:Q,scrollArea:s,parsedStart:Le,parsedEnd:je,maxDays:A,size:N,headerColumnRef:w}),{move:$}=da(e,{parsedView:oe,parsedValue:Ue,weekdaySkips:xe,direction:x,maxDays:A,times:Q,emittedValue:_,emit:a}),{getDefaultMouseEventHandlers:ae}=ua(a,j),{checkChange:ve}=oa(a,{days:fe,lastStart:te,lastEnd:qe}),{isKeyCode:ye}=$t(),{tryFocus:ue}=sa(e,{rootRef:De,focusRef:H,focusValue:C,datesRef:h,days:fe,parsedView:oe,parsedValue:Ue,emittedValue:_,weekdaySkips:xe,direction:x,times:Q}),Se=L(()=>{const R=parseInt(e.resourceHeight,10);return R===0?"auto":R}),le=L(()=>parseInt(e.resourceMinHeight,10)),Je=L(()=>parseInt(e.intervalHeaderHeight,10));J([fe],ve,{deep:!0,immediate:!0}),J(()=>e.modelValue,(R,de)=>{if(_.value!==R){if(e.animated===!0){const ce=re(we(R)),he=re(we(de));x.value=ce>=he?"next":"prev"}_.value=R}H.value=R}),J(_,(R,de)=>{if(_.value!==e.modelValue){if(e.animated===!0){const ce=re(we(R)),he=re(we(de));x.value=ce>=he?"next":"prev"}a("update:model-value",R)}}),J(H,R=>{R&&(C.value=Me(R))}),J(C,R=>{h.value[H.value]?h.value[H.value].focus():ue()}),Gt(()=>{h.value={},b.value={}}),zt(()=>{Ce()});function Be(){_.value=it()}function Ee(R=1){$(R)}function ct(R=1){$(-R)}function Qe({width:R,height:de}){N.width=R,N.height=de}function Ie(R){return R.date===_.value}function Dt(){const R={height:ee(Je.value)};return i("div",{ref:f,roll:"presentation",class:{"q-calendar-resource__head":!0,"q-calendar__sticky":e.noSticky!==!0},style:R},[Ye(),_t()])}function Ye(){const R=t["head-resources"],de=ee(Je.value),ce={timestamps:ke,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-resource__head--resources":!0,"q-calendar__sticky":e.noSticky!==!0},style:{height:de},...ae("-head-resources",he=>({scope:ce,event:he}))},[R&&R({scope:ce})])}function _t(){return i("div",{ref:w,class:{"q-calendar-resource__head--intervals":!0}},[ke.value.map(R=>R.map((de,ce)=>yt(de,ce)))])}function yt(R,de){const ce=t["interval-label"],he=e.noActiveDate!==!0&&Ie(R),be=ee(p.value),me=ee(Je.value),ze=e.shortIntervalLabel,c=Ke.value(R,ze),W={timestamp:R,index:de,label:c};W.droppable=O.value===c;const l=e.intervalStyle||ut,k={width:be,maxWidth:be,minWidth:be,height:me,...l({scope:W})},r=typeof e.intervalClass=="function"?e.intervalClass({scope:W}):{},d=e.focusable===!0&&e.focusType.includes("interval");return i("div",{key:c,tabindex:d===!0?0:-1,class:{"q-calendar-resource__head--interval":!0,...r,"q-active-date":he,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":d===!0},style:k,onDragenter:v=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(v,"interval",W)===!0?O.value=c:O.value="")},onDragover:v=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(v,"interval",W)===!0?O.value=c:O.value="")},onDragleave:v=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(v,"interval",W)===!0?O.value=c:O.value="")},onDrop:v=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(v,"interval",W)===!0?O.value=c:O.value="")},onFocus:v=>{d===!0&&(H.value=c)},...ae("-interval",v=>({scope:W,event:v}))},[ce?ce({scope:W}):c,rt()])}function ot(){return i("div",{class:"q-calendar-resource__body"},[ht()])}function ht(){return i("div",{ref:s,class:{"q-calendar-resource__scroll-area":!0,"q-calendar__scroll":!0}},[mt()])}function gt(){return i("div",{},"No resources have been defined")}function mt(){return i("div",{class:"q-calendar-resource__day--container"},[Dt(),e.modelResources===void 0&&gt(),e.modelResources!==void 0&&qt()])}function qt(){return i("div",{class:"q-calendar-resource__resources--body"},st())}function st(R=void 0,de=0,ce=!0){return R===void 0&&(R=e.modelResources),R.map((he,be)=>Ge(he,be,de,he.children!==void 0?he.expanded:ce))}function Ge(R,de,ce=0,he=!0){const be={};be.height=Se.value==="auto"?Se.value:ee(Se.value),le.value>0&&(be.minHeight=ee(le.value));const me=i("div",{key:R[e.resourceKey]+"-"+de,class:{"q-calendar-resource__resource--row":!0},style:be},[pe(R,de,ce,he),Pe(R,de)]);return R.children!==void 0?[me,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":he===!0,"q-calendar__child--collapsed":he!==!0}},[st(R.children,ce+1,he===!1?he:R.expanded)])]:[me]}function pe(R,de,ce=0,he=!0){const be=t["resource-label"],me={};me.height=R.height!==void 0?ee(parseInt(R.height,10)):Se.value?ee(Se.value):"auto",le.value>0&&(me.minHeight=ee(le.value));const ze=e.resourceStyle||ge,c=R[e.resourceLabel],W=e.focusable===!0&&e.focusType.includes("resource")&&he===!0,l={resource:R,timestamps:ke,resourceIndex:de,indentLevel:ce,label:c},k=R[e.resourceKey];l.droppable=I.value===k;const r=typeof e.resourceClass=="function"?e.resourceClass({scope:l}):{};return i("div",{key:R[e.resourceKey]+"-"+de,ref:d=>{b.value[R[e.resourceKey]]=d},tabindex:W===!0?0:-1,class:{"q-calendar-resource__resource":ce===0,"q-calendar-resource__resource--section":ce!==0,...r,"q-calendar__sticky":e.noSticky!==!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":W===!0},style:{...me,...ze({scope:l})},onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"resource",l)===!0?I.value=k:I.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"resource",l)===!0?I.value=k:I.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"resource",l)===!0?I.value=k:I.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"resource",l)===!0?I.value=k:I.value="")},onKeydown:d=>{ye(d,[13,32])&&(d.stopPropagation(),d.preventDefault())},onKeyup:d=>{ye(d,[13,32])&&j.value.onClickResource!==void 0&&a("click-resource",{scope:l,event:d})},...ae("-resource",d=>({scope:l,event:d}))},[[i("div",{class:{"q-calendar__parent":R.children!==void 0,"q-calendar__parent--expanded":R.children!==void 0&&R.expanded===!0,"q-calendar__parent--collapsed":R.children!==void 0&&R.expanded!==!0},onClick:d=>{d.stopPropagation(),R.expanded=!R.expanded,a("resource-expanded",{expanded:R.expanded,scope:l})}}),i("div",{class:{"q-calendar-resource__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*ce+2+"px"}},[be?be({scope:l}):c]),rt()]])}function Pe(R,de){const ce=t["resource-intervals"],he={resource:R,timestamps:ke,resourceIndex:de,timeStartPosX:m,timeDurationWidth:G};return i("div",{class:"q-calendar-resource__resource--intervals"},[ke.value.map(be=>be.map(me=>lt(R,me,de))),ce&&ce({scope:he})])}function lt(R,de,ce){const he=t["resource-interval"],be=e.noActiveDate!==!0&&Ie(de),me={activeDate:be,resource:R,timestamp:de,resourceIndex:ce},ze=R[e.resourceKey],c=de.time+"-"+ze;me.droppable=U.value===c;const W=e.focusable===!0&&e.focusType.includes("time"),l=e.intervalStyle||ut,k=ee(p.value),r={width:k,maxWidth:k,minWidth:k,...l({scope:me})};return r.height=R.height!==void 0?ee(parseInt(R.height,10)):Se.value>0?ee(Se.value):"auto",le.value>0&&(r.minHeight=ee(le.value)),i("div",{key:c,ref:d=>{h.value[R[e.resourceKey]]=d},tabindex:W===!0?0:-1,class:{"q-calendar-resource__resource--interval":!0,"q-active-date":be,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":W===!0},style:r,onDragenter:d=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(d,"time",me)===!0?U.value=c:U.value="")},onDragover:d=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(d,"time",me)===!0?U.value=c:U.value="")},onDragleave:d=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(d,"time",me)===!0?U.value=c:U.value="")},onDrop:d=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(d,"time",me)===!0?U.value=c:U.value="")},onFocus:d=>{W===!0&&(H.value=c)},...ae("-time",d=>({scope:me,event:d}))},[he&&he({scope:me}),rt()])}function dt(){const{start:R,end:de,maxDays:ce}=Ze.value;(K.value!==R.date||y.value!==de.date||A.value!==ce)&&(K.value=R.date,y.value=de.date,A.value=ce);const he=N.width>0,be=Ht(i("div",{class:"q-calendar-resource",key:K.value},[he===!0&&ot()]),[[wt,Qe]]);if(e.animated===!0){const me="q-calendar--"+(x.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:me,appear:!0},()=>be)}return be}return u({prev:ct,next:Ee,move:$,moveToToday:Be,updateCurrent:Te,timeStartPosX:m,timeDurationWidth:G,widthToMinutes:Z,scrollToTimeX:se}),()=>Ae()}}),Sr=Kt({name:"QCalendarScheduler",directives:[wt],props:{...ta,...gn,...Wa,...ba,...Vt,...Da,...Ut},emits:["update:model-value","update:model-resources","resource-expanded",...ca,...la,...He("-date"),...He("-day-resource"),...He("-head-resources"),...He("-head-day"),...He("-resource")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F(null),w=F(null),H=F(null),C=F({}),h=F({}),b=F({}),x=F({}),K=F("next"),y=F(e.modelValue||it()),A=F("0000-00-00"),_=F(0),N=F(e.modelValue),O=Ot({width:0,height:0}),I=F(!1),U=F(!1),te=F(null),qe=F(null);J(()=>e.view,()=>{_.value=0});const oe=L(()=>e.view==="month"?"month-interval":e.view),p=Rt();if(p===null)throw new Error("current instance is null");const{emitListeners:z}=ia(p),{isSticky:j}=Aa(e),{times:Q,setCurrent:q,updateCurrent:Te}=na(e);Te(),q();const{weekdaySkips:xe,parsedStart:Le,parsedEnd:je,dayFormatter:ut,weekdayFormatter:Ue,ariaDateFormatter:Ze,dayStyleDefault:De,getRelativeClasses:Ce}=aa(e,{startDate:y,endDate:A,times:Q}),Ae=L(()=>Me(e.modelValue,Q.now)||Le.value||Q.today);H.value=Ae.value,w.value=Ae.value.date;const{renderValues:fe}=ra(e,{parsedView:oe,parsedValue:Ae,times:Q}),{rootRef:ke,scrollWidth:Ke,__initCalendar:ge,__renderCalendar:se}=ea(e,S,{scrollArea:s,pane:D}),{days:G,parsedCellWidth:m,styleDefault:Z}=xa(e,{weekdaySkips:xe,times:Q,scrollArea:s,parsedStart:Le,parsedEnd:je,maxDays:_,size:O,headerColumnRef:f}),{move:$}=da(e,{parsedView:oe,parsedValue:Ae,weekdaySkips:xe,direction:K,maxDays:_,times:Q,emittedValue:N,emit:a}),{getDefaultMouseEventHandlers:ae}=ua(a,z),{checkChange:ve}=oa(a,{days:G,lastStart:te,lastEnd:qe}),{isKeyCode:ye}=$t(),{tryFocus:ue}=sa(e,{rootRef:ke,focusRef:w,focusValue:H,datesRef:C,days:G,parsedView:oe,parsedValue:Ae,emittedValue:N,weekdaySkips:xe,direction:K,times:Q}),Se=L(()=>oe.value==="day"&&parseInt(e.columnCount,10)>1?parseInt(e.columnCount,10):oe.value==="day"&&e.maxDays&&e.maxDays>1?e.maxDays:G.value.length),le=L(()=>ke.value?parseInt(getComputedStyle(ke.value).getPropertyValue("--calendar-resources-width"),10):0),Je=L(()=>{const n=parseInt(e.resourceHeight,10);return n===0?"auto":n}),Be=L(()=>parseInt(e.resourceMinHeight,10)),Ee=L(()=>{if(ke.value){const n=O.width||ke.value.getBoundingClientRect().width;if(n&&le.value&&Se.value)return(n-Ke.value-le.value)/Se.value+"px"}return 100/Se.value+"%"});J([G],ve,{deep:!0,immediate:!0}),J(()=>e.modelValue,(n,g)=>{if(N.value!==e.modelValue){if(e.animated===!0){const T=re(we(n)),E=re(we(g));K.value=T>=E?"next":"prev"}N.value=n}w.value=n}),J(N,(n,g)=>{if(N.value!==e.modelValue){if(e.animated===!0){const T=re(we(n)),E=re(we(g));K.value=T>=E?"next":"prev"}a("update:model-value",n)}}),J(w,n=>{n&&(H.value=Me(n))}),J(H,n=>{C.value[w.value]?C.value[w.value].focus():ue()}),J(()=>e.maxDays,n=>{_.value=n}),Gt(()=>{C.value={},b.value={},x.value={},h.value={}}),zt(()=>{ge()});function ct(){N.value=it()}function Qe(n=1){$(n)}function Ie(n=1){$(-n)}function Dt({width:n,height:g}){O.width=n,O.height=g}function Ye(n){return n.date===N.value}function _t(){return i("div",{roll:"presentation",class:{"q-calendar-scheduler__head":!0,"q-calendar__sticky":j.value===!0},style:{marginRight:Ke.value+"px"}},[yt(),ot()])}function yt(){const n=t["head-resources"],g={days:G.value,timestamps:G.value,date:e.modelValue,resources:e.modelResources};return i("div",{class:{"q-calendar-scheduler__head--resources":!0,"q-calendar__sticky":j.value===!0},...ae("-head-resources",T=>({scope:g,event:T}))},[n&&n({scope:g})])}function ot(){return i("div",{ref:f,class:{"q-calendar-scheduler__head--days__column":!0}},[ht(),gt()])}function ht(){return i("div",{class:{"q-calendar-scheduler__head--days__weekdays":!0}},[...mt()])}function gt(){const n=t["head-days-events"];return Ha(()=>{if(x.value&&parseInt(e.columnCount,10)===0&&window)try{const g=window.getComputedStyle(x.value);b.value.parentElement.style.height=g.height,b.value.style.height=g.height}catch{}}),i("div",{class:{"q-calendar-scheduler__head--days__event":!0}},[n&&i("div",{ref:b,style:{position:"absolute",left:0,top:0,right:0,overflow:"hidden",zIndex:1}},[n({scope:{timestamps:G.value,days:G.value,ref:x}})]),...qt()])}function mt(){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>st(G.value[0],n)):G.value.map(n=>st(n))}function qt(){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((n,g)=>g+parseInt(e.columnIndexStart,10)).map(n=>pe(G.value[0],n)):G.value.map(n=>pe(n))}function st(n,g){const T=t["head-day"],E=t["head-date"],B=e.noActiveDate!==!0&&Ye(n),M={timestamp:n,activeDate:B,droppable:I.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(M.columnIndex=g);const _e=j.value===!0?ee(m.value):Ee.value,X=e.weekdayStyle||De,ft={width:_e,maxWidth:_e,minWidth:_e,...X({scope:M})};j.value===!0&&(ft.minWidth=_e);const o=typeof e.weekdayClass=="function"?e.weekdayClass({scope:M}):{},P=e.focusable===!0&&e.focusType.includes("weekday"),V=n.date+(g!==void 0?"-"+g:""),Y={key:V,ref:ne=>{C.value[V]=ne},tabindex:P===!0?0:-1,class:{"q-calendar-scheduler__head--day":!0,...o,...Ce(n),"q-active-date":B,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":P===!0},style:ft,onFocus:ne=>{P===!0&&(w.value=V)},onKeydown:ne=>{n.disabled!==!0&&ye(ne,[13,32])&&(ne.stopPropagation(),ne.preventDefault())},onKeyup:ne=>{n.disabled!==!0&&ye(ne,[13,32])&&(N.value=n.date)},...ae("-head-day",ne=>({scope:M,event:ne})),onDragenter:ne=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(ne,"head-day",M)===!0?I.value=n.date:I.value="")},onDragover:ne=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(ne,"head-day",M)===!0?I.value=n.date:I.value="")},onDragleave:ne=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(ne,"head-day",M)===!0?I.value=n.date:I.value="")},onDrop:ne=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(ne,"head-day",M)===!0?I.value=n.date:I.value="")}};return i("div",Y,[T!==void 0&&T({scope:M}),T===void 0&&de(n,g),T===void 0&&Ge(n),T===void 0&&E&&E({scope:M}),T===void 0&&ce(n,g),rt()])}function Ge(n){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&Pe(n),e.noDefaultHeaderBtn!==!0&&dt(n)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Pe(n),e.noDefaultHeaderBtn!==!0&&dt(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Pe(n),e.noDefaultHeaderBtn!==!0&&dt(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&Pe(n),e.noDefaultHeaderBtn!==!0&&dt(n)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&dt(n),e.noDefaultHeaderText!==!0&&Pe(n)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&dt(n),e.noDefaultHeaderText!==!0&&Pe(n)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&dt(n),e.noDefaultHeaderText!==!0&&Pe(n)])}function pe(n,g){const T=t["head-day-event"],E=e.noActiveDate!==!0&&Ye(n),B={timestamp:n,activeDate:E,droppable:I.value===n.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(n.weekday):!1};g!==void 0&&(B.columnIndex=g);const M=j.value===!0?ee(m.value):Ee.value,_e={width:M,maxWidth:M,minWidth:M};return j.value===!0&&(_e.minWidth=M),i("div",{key:"event-"+n.date+(g!==void 0?"-"+g:""),class:{"q-calendar-scheduler__head--day__event":!0,...Ce(n),"q-active-date":E},style:_e},[T&&T({scope:B})])}function Pe(n){const g=t["head-weekday-label"],T=e.shortWeekdayLabel===!0,E={timestamp:n,shortWeekdayLabel:T},B={class:{"q-calendar-scheduler__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",B,g&&g({scope:E})||lt(n,T))}function lt(n,g){const T=Ue.value(n,g||e.weekdayBreakpoints[0]>0&&m.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar-scheduler__head--weekday-label q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&m.value<=e.weekdayBreakpoints[1]?ka(T,e.minWeekdayLabel):T)}function dt(n){const g={class:{"q-calendar-scheduler__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",g,R(n))}function R(n){const g=e.noActiveDate!==!0&&Ye(n),T=ut.value(n,!1),E=t["head-day-label"],B=t["head-day-button"],M={dayLabel:T,timestamp:n,activeDate:g},_e={class:{"q-calendar-scheduler__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":n.current===!0,"q-calendar__focusable":!0},disabled:n.disabled,onKeydown:X=>{n.disabled!==!0&&ye(X,[13,32])&&(X.stopPropagation(),X.preventDefault())},onKeyup:X=>{n.disabled!==!0&&ye(X,[13,32])&&(N.value=n.date,z.value.onClickDate!==void 0&&a("click-date",{scope:M}))},...ae("-date",(X,ft)=>((ft==="click-date"||ft==="contextmenu-date")&&(N.value=n.date,ft==="click-date"&&X.preventDefault()),{scope:M,event:X}))};return e.noAria!==!0&&(_e.ariaLabel=Ze.value(n)),B?B({scope:M}):wa(e,_e,E?E({scope:M}):T)}function de(n,g){const T=t["column-header-before"];if(T)return i("div",{class:"q-calendar-scheduler__column-header--before"},[T({scope:{timestamp:n,columnIndex:g}})])}function ce(n,g){const T=t["column-header-after"];if(T)return i("div",{class:"q-calendar-scheduler__column-header--after"},[T({scope:{timestamp:n,columnIndex:g}})])}function he(){return i("div",{class:"q-calendar-scheduler__body"},[be()])}function be(){return j.value===!0?i("div",{ref:s,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[j.value!==!0&&k(),ze()]):e.noScroll===!0?me():i("div",{ref:s,class:{"q-calendar-scheduler__scroll-area":!0,"q-calendar__scroll":!0}},[me()])}function me(){return i("div",{ref:D,class:"q-calendar-scheduler__pane"},[ze()])}function ze(){return i("div",{class:"q-calendar-scheduler__day--container"},[j.value===!0&&e.noHeader!==!0&&_t(),c()])}function c(n=void 0,g=0,T=!0){return n===void 0&&(n=e.modelResources),n.map((E,B)=>W(E,B,g,E.children!==void 0?E.expanded:T))}function W(n,g,T=0,E=!0){const B={};B.height=n.height!==void 0?ee(parseInt(n.height,10)):Je.value?ee(Je.value):"auto",Be.value>0&&(B.minHeight=ee(Be.value));const M=i("div",{key:n[e.resourceKey]+"-"+g,class:{"q-calendar-scheduler__resource--row":!0},style:B},[l(n,g,T,E),k(n,g,T,E)]);return n.children!==void 0?[M,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":E===!0,"q-calendar__child--collapsed":E!==!0}},[c(n.children,T+1,E===!1?E:n.expanded)])]:[M]}function l(n,g,T=0,E=!0){const B=t["resource-label"],M={};M.height=n.height!==void 0?ee(parseInt(n.height,10)):Je.value?ee(Je.value):"auto",parseInt(e.resourceMinHeight,10)>0&&(M.minHeight=ee(parseInt(e.resourceMinHeight,10)));const _e=e.resourceStyle||Z,X=n[e.resourceLabel],ft=e.focusable===!0&&e.focusType.includes("resource")&&E===!0,o={resource:n,timestamps:G.value,days:G.value,resourceIndex:g,indentLevel:T,label:X},P=n[e.resourceKey];o.droppable=U.value===P;const V=typeof e.resourceClass=="function"?e.resourceClass({scope:o}):{};return i("div",{key:n[e.resourceKey]+"-"+g,ref:Y=>{h.value[n[e.resourceKey]]=Y},tabindex:ft===!0?0:-1,class:{"q-calendar-scheduler__resource":T===0,"q-calendar-scheduler__resource--section":T!==0,...V,"q-calendar__sticky":j.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ft===!0},style:{...M,..._e({scope:o})},onDragenter:Y=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Y,"resource",o)===!0?U.value=P:U.value="")},onDragover:Y=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Y,"resource",o)===!0?U.value=P:U.value="")},onDragleave:Y=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Y,"resource",o)===!0?U.value=P:U.value="")},onDrop:Y=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Y,"resource",o)===!0?U.value=P:U.value="")},onKeydown:Y=>{ye(Y,[13,32])&&(Y.stopPropagation(),Y.preventDefault())},onKeyup:Y=>{ye(Y,[13,32])&&z.value.onClickResource!==void 0&&a("click-resource",{scope:o,event:Y})},...ae("-resource",Y=>({scope:o,event:Y}))},[[i("div",{class:{"q-calendar__parent":n.children!==void 0,"q-calendar__parent--expanded":n.children!==void 0&&n.expanded===!0,"q-calendar__parent--collapsed":n.children!==void 0&&n.expanded!==!0},onClick:Y=>{Y.stopPropagation(),n.expanded=!n.expanded,a("resource-expanded",{expanded:n.expanded,scope:o})}}),i("div",{class:{"q-calendar-scheduler__resource--text":!0,"q-calendar__ellipsis":!0},style:{paddingLeft:10*T+2+"px"}},[B?B({scope:o}):X]),rt()]])}function k(n,g,T=0,E=!0){const B=t["resource-days"],M=j.value===!0?ee(m.value):Ee.value,_e={resource:n,resourceIndex:g,indentLevel:T,expanded:E,cellWidth:M,timestamps:G.value,days:G.value},X={};return X.height=parseInt(e.resourceHeight,10)>0?ee(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(X.minHeight=ee(parseInt(e.resourceMinHeight,10))),i("div",{class:"q-calendar-scheduler__resource--days",style:X},[...r(n,g,T,E),B&&B({scope:_e})])}function r(n,g,T=0,E=!0){return G.value.length===1&&parseInt(e.columnCount,10)>0?Array.apply(null,new Array(parseInt(e.columnCount,10))).map((B,M)=>M+parseInt(e.columnIndexStart,10)).map(B=>d(G.value[0],B,n,g,T,E)):G.value.map(B=>d(B,void 0,n,g,T,E))}function d(n,g,T,E,B=0,M=!0){const _e=t.day,X=e.dayStyle||De,ft=e.noActiveDate!==!0&&Ae.value.date===n.date,o=n.date+":"+T[e.resourceKey]+(g!==void 0?":"+g:""),P=U.value===o,V={timestamp:n,columnIndex:g,resource:T,resourceIndex:E,indentLevel:B,activeDate:ft,droppable:P},Y=j.value===!0?ee(m.value):Ee.value,ne={width:Y,maxWidth:Y,...X({scope:V})};ne.height=parseInt(e.resourceHeight,10)>0?ee(parseInt(e.resourceHeight,10)):"auto",parseInt(e.resourceMinHeight,10)>0&&(ne.minHeight=ee(parseInt(e.resourceMinHeight,10)));const ie=typeof e.dayClass=="function"?e.dayClass({scope:V}):{},Ve=e.focusable===!0&&e.focusType.includes("day")&&M===!0;return i("div",{key:n.date+(g!==void 0?":"+g:""),tabindex:Ve===!0?0:-1,class:{"q-calendar-scheduler__day":B===0,"q-calendar-scheduler__day--section":B!==0,...ie,...Ce(n),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Ve===!0},style:ne,onDragenter:Fe=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(Fe,"day",V)===!0?U.value=o:U.value="")},onDragover:Fe=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(Fe,"day",V)===!0?U.value=o:U.value="")},onDragleave:Fe=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(Fe,"day",V)===!0?U.value=o:U.value="")},onDrop:Fe=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(Fe,"day",V)===!0?U.value=o:U.value="")},onKeydown:Fe=>{ye(Fe,[13,32])&&(Fe.stopPropagation(),Fe.preventDefault())},onKeyup:Fe=>{ye(Fe,[13,32])&&(N.value=V.timestamp.date,z.value.onClickResource!==void 0&&a("click-resource",{scope:V,event:Fe}))},...ae("-day-resource",Fe=>({scope:V,event:Fe}))},[_e&&_e({scope:V}),rt()])}function v(){return i("div",{},"No resources have been defined")}function S(){const{start:n,end:g,maxDays:T}=fe.value;(y.value!==n.date||A.value!==g.date||_.value!==T)&&(y.value=n.date,A.value=g.date,_.value=T);const E=O.width>0,B=e.modelResources&&e.modelResources.length>0,M=Ht(i("div",{key:y.value,class:"q-calendar-scheduler"},[E===!0&&B===!0&&j.value!==!0&&e.noHeader!==!0&&_t(),E===!0&&B===!0&&he(),B===!1&&v()]),[[wt,Dt]]);if(e.animated===!0){const _e="q-calendar--"+(K.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:_e,appear:!0},()=>M)}return M}return u({prev:Ie,next:Qe,move:$,moveToToday:ct,updateCurrent:Te}),()=>se()}});const qn={modelValue:{type:String,default:it(),validator:e=>e===""||Pa(e)},modelTasks:{type:Array,default:[]},modelTitle:{type:Array,default:[]},modelFooter:{type:Array,default:[]},taskKey:{type:[String,Number],default:"id"},weekdays:{type:Array,default:()=>[0,1,2,3,4,5,6]},dateType:{type:String,default:"round",validator:e=>["round","rounded","square"].includes(e)},dateHeader:{type:String,default:"stacked",validator:e=>["stacked","inline","inverted"].includes(e)},weekdayAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},dateAlign:{type:String,default:"center",validator:e=>["left","center","right"].includes(e)},view:{type:String,validator:e=>["day","week","month"].includes(e)},viewCount:{type:Number,default:1,validator:e=>tt(e)&&e>0},bordered:Boolean,dark:Boolean,noAria:Boolean,noActiveDate:Boolean,shortWeekdayLabel:Boolean,noHeader:Boolean,noDefaultHeaderText:Boolean,noDefaultHeaderBtn:Boolean,cellWidth:[Number,String],minWeekdayLabel:{type:[Number,String],default:2},weekdayBreakpoints:{type:Array,default:()=>[75,35],validator:e=>e.length===2},locale:{type:String,default:"en-US"},animated:Boolean,transitionPrev:{type:String,default:"slide-right"},transitionNext:{type:String,default:"slide-left"},disabledDays:Array,disabledBefore:String,disabledAfter:String,disabledWeekdays:{type:Array,default:()=>[]},weekdayClass:Function,dayClass:Function,footerDayClass:Function,dragEnterFunc:{type:Function},dragOverFunc:{type:Function},dragLeaveFunc:{type:Function},dropFunc:{type:Function},hoverable:Boolean,focusable:Boolean,focusType:{type:Array,default:["date"],validator:e=>{let t=!0;return e.forEach(a=>{["day","date","weekday","interval","resource","task"].includes(a)!==!0&&(t=!1)}),t}},taskWidth:{type:Number,default:200,validator:e=>tt(e)&&e>0}};function Hr(e,t,{weekdaySkips:a,times:u}){const s=L(()=>{if(e.view==="day")return Me(e.modelValue);if(e.view==="week")return pt(Me(e.modelValue),e.weekdays,u.today);if(e.view==="month")return ma(Me(e.modelValue),e.weekdays,u.today);throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)}),D=L(()=>{if(e.view==="day"){if(e.viewCount===1)return s.value;let w=We(s.value);return w=Ne(w,{day:e.viewCount-1}),w}else if(e.view==="week"){if(e.viewCount===1)return Pt(Me(e.modelValue),e.weekdays,u.today);{let w=We(s.value);return w=Ne(w,{day:(e.viewCount-1)*Yt}),Pt(w,e.weekdays,u.today)}}else if(e.view==="month"){if(e.viewCount===1)return Jt(Me(e.modelValue),e.weekdays,u.today);{let w=We(s.value);return w=Ne(w,{month:e.viewCount}),Jt(w,e.weekdays,u.today)}}else throw new Error(`QCalendarTask: unknown 'view' type (${e.view})`)});return{days:L(()=>Sa(s.value,D.value,u.today,a.value,e.disabledBefore,e.disabledAfter,e.disabledWeekdays,e.disabledDays,Number.MAX_SAFE_INTEGER)),parsedStartDate:s,parsedEndDate:D}}var Tr=Kt({name:"QCalendarTask",directives:[wt],props:{...Vt,...Ut,...qn},emits:["update:model-value","update:model-tasks","update:model-title","update:model-footer","task-expanded",...ca,...la,...He("-date"),...He("-day"),...He("-head-day")],setup(e,{slots:t,emit:a,expose:u}){const s=F(null),D=F(null),f=F("next"),w=F(e.modelValue||it()),H=F("0000-00-00"),C=F(0),h=F(e.modelValue),b=F(null),x=F(null),K=F({}),y=Ot({width:0,height:0}),A=F(!1),_=F(null),N=F(null);J(()=>e.view,()=>{C.value=0});const O=L(()=>e.view==="month"?"month-interval":e.view),I=Rt();if(I===null)throw new Error("current instance is null");const{emitListeners:U}=ia(I),{times:te,setCurrent:qe,updateCurrent:oe}=na(e);oe(),qe();const{weekdaySkips:p,parsedStart:z,dayFormatter:j,weekdayFormatter:Q,ariaDateFormatter:q,dayStyleDefault:Te,getRelativeClasses:xe}=aa(e,{startDate:w,endDate:H,times:te}),Le=L(()=>Me(e.modelValue,te.now)||z.value||te.today);x.value=Le.value,b.value=Le.value.date;const{renderValues:je}=ra(e,{parsedView:O,times:te,parsedValue:Le}),{rootRef:ut,__initCalendar:Ue,__renderCalendar:Ze}=ea(e,k,{scrollArea:s,pane:D}),{days:De,parsedStartDate:Ce,parsedEndDate:Ae}=Hr(e,a,{weekdaySkips:p,times:te}),{move:fe}=da(e,{parsedView:O,parsedValue:Le,weekdaySkips:p,direction:f,maxDays:C,times:te,emittedValue:h,emit:a}),{getDefaultMouseEventHandlers:ke}=ua(a,U),{checkChange:Ke}=oa(a,{days:De,lastStart:_,lastEnd:N}),{isKeyCode:ge}=$t(),{tryFocus:se}=sa(e,{rootRef:ut,focusRef:b,focusValue:x,datesRef:K,days:De,parsedView:O,parsedValue:Le,emittedValue:h,weekdaySkips:p,direction:f,times:te}),G=F(!0),m=L(()=>e.cellWidth!==void 0?parseInt(e.cellWidth,10):150),Z=L(()=>e.focusable===!0&&e.focusType.includes("day")&&isMiniMode.value!==!0),$=L(()=>e.focusable===!0&&e.focusType.includes("date")&&Z.value!==!0),ae=L(()=>e.focusable===!0&&e.focusType.includes("weekday")),ve=L(()=>parseInt(e.dayHeight,10)),ye=L(()=>parseInt(e.dayMinHeight,10));J([De],Ke,{deep:!0,immediate:!0}),J(()=>e.modelValue,(r,d)=>{if(h.value!==r){if(e.animated===!0){const v=re(we(r)),S=re(we(d));f.value=v>=S?"next":"prev"}h.value=r}b.value=r}),J(h,(r,d)=>{if(h.value!==e.modelValue){if(e.animated===!0){const v=re(we(r)),S=re(we(d));f.value=v>=S?"next":"prev"}a("update:model-value",r)}}),J(b,r=>{r&&(x.value=Me(r))}),J(x,r=>{K.value[b.value]?K.value[b.value].focus():se()}),Gt(()=>{K.value={}}),zt(()=>{Ue()});function ue(){h.value=it()}function Se(r=1){fe(r)}function le(r=1){fe(-r)}function Je({width:r,height:d}){y.width=r,y.height=d}function Be(r){return r.date===h.value}function Ee(r,d,v){const S=t.day,n=e.dayStyle||Te,g=e.noActiveDate!==!0&&Le.value.date===r.date,T={timestamp:r,task:d,taskIndex:v,activeDate:g},E=ee(m.value),B={width:E,minWidth:E,maxWidth:E,...n({scope:T})},M=typeof e.dayClass=="function"?e.dayClass({scope:T}):{};return i("div",{tabindex:Z.value===!0?0:-1,class:{"q-calendar-task__task--day":!0,...M,...xe(r),"q-active-date":g===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Z.value===!0},style:B,onFocus:_e=>{Z.value},...ke("-day",_e=>({scope:T,event:_e})),onDragenter:_e=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(_e,"day",T)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragover:_e=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(_e,"day",T)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDragleave:_e=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(_e,"day",T)===!0?dragOverResource.value=dragValue:dragOverResource.value="")},onDrop:_e=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(_e,"day",T)===!0?dragOverResource.value=dragValue:dragOverResource.value="")}},[S&&S({scope:T}),rt()])}function ct(r,d){return De.value.map(v=>Ee(v,r,d))}function Qe(r,d){const v=t.days,S={timestamps:De.value,days:De.value,task:r,taskIndex:d,cellWidth:m.value};return i("div",{class:"q-calendar-task__task--days-row"},[ct(r,d),v&&v({scope:S})])}function Ie(r,d,v=0,S=!0){const n=t.task,g={start:Ce.value,end:Ae.value,task:r,taskIndex:d,expanded:S},T=ee(e.taskWidth),E={width:T,minWidth:T,maxWidth:T},B=e.focusable===!0&&e.focusType.includes("task");return i("div",{class:{"q-calendar-task__task--item":!0,"q-calendar__sticky":G.value===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":B===!0},style:E},[i("div",{style:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:10+10*v+"px"}},[i("div",{class:{"q-calendar__parent":r.children!==void 0,"q-calendar__parent--expanded":r.children!==void 0&&r.expanded===!0,"q-calendar__parent--collapsed":r.children!==void 0&&r.expanded!==!0},onClick:M=>{M.stopPropagation(),r.expanded=!r.expanded,a("task-expanded",{expanded:r.expanded,scope:g})}})]),n&&n({scope:g}),rt()])}function Dt(r,d,v=0,S=!0){const n=r.height!==void 0?ee(parseInt(r.height,10)):ve.value>0?ee(ve.value):"auto",g=ye.value>0?ee(ye.value):void 0,T={height:n};g!==void 0&&(T.minHeight=g);const E=i("div",{key:r[e.taskKey]+"-"+d,class:{"q-calendar-task__task":v===0,"q-calendar-task__task--section":v!==0},style:T},[Ie(r,d,v,S),Qe(r,d)]);return r.children!==void 0?[E,i("div",{class:{"q-calendar__child":!0,"q-calendar__child--expanded":S===!0,"q-calendar__child--collapsed":S!==!0}},[Ye(r.children,v+1,S===!1?S:r.expanded)])]:[E]}function Ye(r=void 0,d=0,v=!0){return r===void 0&&(r=e.modelTasks),r.map((S,n)=>Dt(S,n,d,S.children!==void 0?S.expanded:v))}function _t(){return i("div",{class:{"q-calendar-task__task--container":!0,"q-calendar__sticky":G.value===!0}},[Ye()])}function yt(r,d){const v=t["footer-task"],S={start:Ce.value,end:Ae.value,footer:r,index:d},n=ee(e.taskWidth),g={width:n,minWidth:n,maxWidth:n};return i("div",{class:{"q-calendar-task__footer--task":!0,"q-calendar__sticky":G.value===!0},style:g},[v&&v({scope:S})])}function ot(r,d,v){const S=t["footer-day"],n={timestamp:r,footer:d,index:v},g=ee(m.value),T={width:g,minWidth:g,maxWidth:g},E=typeof e.footerDayClass=="function"?e.footerDayClass({scope:n}):{};return i("div",{class:{"q-calendar-task__footer--day":!0,...E,...xe(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":Z.value===!0},style:T},[S&&S({scope:n})])}function ht(r,d){return i("div",{class:"q-calendar-task__footer--day-wrapper"},[De.value.map(v=>ot(v,r,d))])}function gt(){const r=e.focusable===!0&&e.focusType.includes("task");return e.modelFooter.map((d,v)=>i("div",{class:{"q-calendar-task__footer--wrapper":!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":r===!0}},{default:()=>[yt(d,v),ht(d,v)]}))}function mt(){return i("div",{class:{"q-calendar-task__footer":!0,"q-calendar__sticky":G.value===!0}},gt())}function qt(){return i("div",{class:{"q-calendar-task__container":!0}},[e.noHeader!==!0&&c(),_t(),mt()])}function st(){const r=t["head-tasks"],d={start:Ce.value,end:Ae.value},v=ee(parseInt(e.taskWidth,10)),S={width:v,minWidth:v,maxWidth:v};return i("div",{class:{"q-calendar-task__head--tasks":!0,"q-calendar__sticky":G.value===!0},style:S},[r&&r({scope:d})])}function Ge(r,d){const v=t["title-task"],S=ee(parseInt(e.taskWidth,10)),n={width:S,minWidth:S,maxWidth:S},g={start:Ce.value,end:Ae.value,cellWidth:S,title:r,index:d};return i("div",{class:{"q-calendar-task__title--task":!0,"q-calendar__sticky":G.value===!0},style:n},[v&&v({scope:g})])}function pe(r){const d=t["head-weekday-label"],S={activeDate:e.noActiveDate!==!0&&Be(r),timestamp:r,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},n={class:{"q-calendar-task__head--weekday":!0,["q-calendar__"+e.weekdayAlign]:!0,"q-calendar__ellipsis":!0}};return i("div",n,d&&d({scope:S})||Pe(r,e.shortWeekdayLabel))}function Pe(r,d){const v=Q.value(r,d||e.weekdayBreakpoints[0]>0&&m.value<=e.weekdayBreakpoints[0]);return i("span",{class:"q-calendar__ellipsis"},e.weekdayBreakpoints[1]>0&&m.value<=e.weekdayBreakpoints[1]?ka(v,e.minWeekdayLabel):v)}function lt(r){const d={class:{"q-calendar-task__head--date":!0,["q-calendar__"+e.dateAlign]:!0}};return i("div",d,dt(r))}function dt(r){const d=e.noActiveDate!==!0&&Be(r),v=j.value(r,!1),S=t["head-day-label"],n=t["head-day-button"],g={dayLabel:v,timestamp:r,activeDate:d},E={key:r.date,tabindex:$.value===!0?0:-1,class:{"q-calendar-task__head--day__label":!0,"q-calendar__button":!0,"q-calendar__button--round":e.dateType==="round","q-calendar__button--rounded":e.dateType==="rounded","q-calendar__button--bordered":r.current===!0,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":$.value===!0},disabled:r.disabled,onKeydown:B=>{r.disabled!==!0&&ge(B,[13,32])&&(B.stopPropagation(),B.preventDefault())},onKeyup:B=>{r.disabled!==!0&&ge(B,[13,32])&&(h.value=r.date,U.value.onClickDate!==void 0&&a("click-date",{scope:g}))},...ke("-date",(B,M)=>((M==="click-date"||M==="contextmenu-date")&&(h.value=r.date,M==="click-date"&&B.preventDefault()),{scope:g,event:B}))};return e.noAria!==!0&&(E.ariaLabel=q.value(r)),n?n({scope:g}):wa(e,E,S?S({scope:g}):v)}function R(r){if(e.dateHeader==="stacked")return[e.noDefaultHeaderText!==!0&&pe(r),e.noDefaultHeaderBtn!==!0&&lt(r)];if(e.dateHeader==="inline")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pe(r),e.noDefaultHeaderBtn!==!0&&lt(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pe(r),e.noDefaultHeaderBtn!==!0&&lt(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderText!==!0&&pe(r),e.noDefaultHeaderBtn!==!0&&lt(r)]);if(e.dateHeader==="inverted")return e.weekdayAlign==="left"&&e.dateAlign==="right"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&lt(r),e.noDefaultHeaderText!==!0&&pe(r)]):e.weekdayAlign==="right"&&e.dateAlign==="left"?i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&lt(r),e.noDefaultHeaderText!==!0&&pe(r)]):i("div",{class:"q-calendar__header--inline"},[e.noDefaultHeaderBtn!==!0&&lt(r),e.noDefaultHeaderText!==!0&&pe(r)])}function de(r,d,v){const S=t["title-day"],n=ee(m.value),g={width:n,minWidth:n,maxWidth:n},T={timestamp:r,title:d,index:v,cellWidth:m.value},E=typeof e.dayClass=="function"?e.dayClass({scope:T}):{},B=e.focusable===!0&&e.focusType.includes("day");return i("div",{class:{"q-calendar-task__title--day":!0,...E,...xe(r),"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":B===!0},style:g},[S&&S({scope:T}),rt()])}function ce(r){const d=t["head-day"],v=t["head-date"],S=e.noActiveDate!==!0&&Be(r),n={timestamp:r,activeDate:S,droppable:A.value=r.date,disabled:e.disabledWeekdays?e.disabledWeekdays.includes(r.weekday):!1},g=e.weekdayStyle||Te,T=typeof e.weekdayClass=="function"?e.weekdayClass({scope:n}):{},E=ee(m.value),B={width:E,minWidth:E,maxWidth:E,...g({scope:n})},M=r.date,_e={key:M,ref:X=>{K.value[M]=X},tabindex:ae.value===!0?0:-1,class:{"q-calendar-task__head--day":!0,...T,...xe(r),"q-active-date":S,"q-calendar__hoverable":e.hoverable===!0,"q-calendar__focusable":ae.value===!0},style:B,onFocus:X=>{ae.value===!0&&(b.value=M)},onKeydown:X=>{r.disabled!==!0&&ge(X,[13,32])&&(X.stopPropagation(),X.preventDefault())},onKeyup:X=>{r.disabled!==!0&&ge(X,[13,32])&&(h.value=r.date)},...ke("-head-day",X=>({scope:n,event:X})),onDragenter:X=>{e.dragEnterFunc!==void 0&&typeof e.dragEnterFunc=="function"&&(e.dragEnterFunc(X,"head-day",n)===!0?A.value=r.date:A.value="")},onDragover:X=>{e.dragOverFunc!==void 0&&typeof e.dragOverFunc=="function"&&(e.dragOverFunc(X,"head-day",n)===!0?A.value=r.date:A.value="")},onDragleave:X=>{e.dragLeaveFunc!==void 0&&typeof e.dragLeaveFunc=="function"&&(e.dragLeaveFunc(X,"head-day",n)===!0?A.value=r.date:A.value="")},onDrop:X=>{e.dropFunc!==void 0&&typeof e.dropFunc=="function"&&(e.dropFunc(X,"head-day",n)===!0?A.value=r.date:A.value="")}};return i("div",_e,[d!==void 0&&d({scope:n}),d===void 0&&R(r),d===void 0&&v&&v({scope:n}),rt()])}function he(){return De.value.map(r=>ce(r))}function be(r,d){return De.value.map(v=>de(v,r,d))}function me(){return i("div",{class:{"q-calendar-task__head--days":!0}},[...he()])}function ze(r,d){return i("div",{class:{"q-calendar-task__title--days":!0}},[...be(r,d)])}function c(){return i("div",{roll:"presentation",class:{"q-calendar-task__head":!0,"q-calendar__sticky":G.value===!0},style:{}},[i("div",{style:{position:"relative",display:"flex"}},[st(),me()]),e.modelTitle.map((r,d)=>i("div",{class:"q-calendar-task__title",style:{position:"relative",display:"flex"}},[Ge(r,d),ze(r,d)]))])}function W(){return i("div",{class:"q-calendar-task__body"},[l()])}function l(){return i("div",{ref:s,class:{"q-calendar-task__scroll-area":!0,"q-calendar__scroll":!0}},[qt()])}function k(){const{start:r,end:d}=je.value;w.value=r.date,H.value=d.date;const v=y.width>0,S=Ht(i("div",{key:w.value,class:"q-calendar-task"},[v===!0&&W()]),[[wt,Je]]);if(e.animated===!0){const n="q-calendar--"+(f.value==="prev"?e.transitionPrev:e.transitionNext);return i(Nt,{name:n,appear:!0},()=>S)}return S}return u({prev:le,next:Se,move:fe,moveToToday:ue,updateCurrent:oe}),()=>Ze()}});Kt({name:"QCalendar",props:{mode:{type:String,validator:e=>["day","month","agenda","resource","scheduler","task"].includes(e),default:"day"},...ta,...wn,...Vt,...Da,...Ut,...Va,...gn,...mn,...ba,...qn},setup(e,{attrs:t,slots:a,expose:u}){const s=F(null),D=L(()=>{switch(e.mode){case"agenda":return qr;case"resource":return Dn;case"scheduler":return Sr;case"month":return Cr;case"day":return ln;case"task":return Tr;case"day":default:return ln}});function f(){s.value.moveToToday()}function w(I=-1){s.value.move(I)}function H(I=1){s.value.next(I)}function C(I=1){s.value.prev(I)}function h(){s.value.updateCurrent()}function b(I,U=!0){return s.value.timeStartPos(I,U)}function x(I,U=!0){return s.value.timeStartPosX(I,U)}function K(I){return s.value.timeDurationWidth(I)}function y(I){return s.value.timeDurationHeight(I)}function A(I){return s.value.heightToMinutes(I)}function _(I){return s.value.widthToMinutes(I)}function N(I){return s.value.scrollToTime(I)}function O(I){return s.value.scrollToTimeX(I)}return u({prev:C,next:H,move:w,moveToToday:f,updateCurrent:h,timeStartPos:b,timeStartPosX:x,timeDurationWidth:K,timeDurationHeight:y,heightToMinutes:A,widthToMinutes:_,scrollToTime:N,scrollToTimeX:O}),()=>i(D.value,{ref:s,...e,...t},a)}});const Ct=e=>new Intl.NumberFormat("ru",{style:"currency",currency:"RUB",trailingZeroDisplay:"stripIfInteger"}).format(e).replace(",","."),xr={class:"column flex-center text-subtitle"},Wr={class:"text-caption text-grey text-middle q-mt-middle"},Ar=["title"],Er=kt("span",{class:"q-focus-helper"},null,-1),Or={key:0},Lr=kt("div",null,"\u0417\u0430\u0433\u043E\u043B\u043E\u0432\u043E\u043A",-1),Ir={key:0,class:"text-caption"},Kr={__name:"IndexPage",setup(e){const t=Ot({loading:!0,timeline:null}),{g:a}=Vn(),u=jn(),s=async C=>{const h=await u.getBookingById(C);h&&(a.selected=h,a.bookingForm=!0)},D=async(C=!0)=>{if(!a.selectedDate){a.selectedDate=a.arenaDate;return}t.loading=C,await u.getArenaGames(),t.loading=!1};zt(async()=>{await u.setLocation(),a.mainCalendar=t.timeline,J(()=>a.selectedArenaId,()=>D()),J(()=>a.selectedDate,()=>D(t.loading)),D()}),t.interval=L(()=>{let C=10,h=12;if(a.timeFrame.length){C=parseInt(a.timeFrame[0].slice(11,13));const b=Date.parse(a.timeFrame[0]),K=(Date.parse(a.timeFrame[1])-b)/(1e3*60*60)+1;h=K>0?K:24+K}return{start:C,count:h}}),t.filteredIds=L(()=>a.search?a.games.flatMap(h=>h.bookings).filter(h=>h.customer_name.includes(a.search)||h.customer_phone_number.includes(a.search)||h.customer_email.includes(a.search)||h.order_number.includes(a.search)||h.amount_with_discount.toString().includes(a.search)).map(h=>h.id):[]),t.selectedGames=L(()=>{const C=[];return a.games.forEach(h=>{(a.selectedGameGroups.includes("all")||a.selectedGameGroups.includes(h.game_group.id))&&C.push(h)}),C}),t.groupedBookings=L(()=>{const C={};return a.games.forEach(h=>{const b=[];(h.calendar[a.selectedDate]||[]).forEach(y=>{if(y.isSlot=!0,y.duration=60,y.date=y.start.slice(0,10),y.time=y.start.slice(11,16),y.endLocal=new Date(y.end).toLocaleString("sv",{timeZone:a.arenaTimezone}),y.fresh=y.endLocal>a.arenaDateTime,y.date>a.selectedDate){const A=y.time.slice(0,2);y._time=y.time.replace(A,24+parseInt(A)),y._date=a.selectedDate}y.gameId=h.id,y.isUnder=h.bookings.some(A=>{const _=y.start<A.game_session.end&&y.end>A.game_session.start;return _&&(A.slot=y),_}),y.available_for_booking>0&&b.push([y])}),h.bookings.sort((y,A)=>y.time>A.time?1:y.time<A.time?-1:0),h.bookings.forEach(y=>{if(y.date>a.selectedDate){const A=y.time.slice(0,2);y._time=y.time.replace(A,24+parseInt(A))}});const K=h.bookings.reduce((y,A)=>{const _=y.at(-1);return _&&_.at(-1).end>A.time?(y.at(-1).push(A),y):[...y,[A]]},[]);b.push(...K),C[h.id]=b}),C});const f=(C,h,b,x)=>({overflow:"hidden",position:"absolute",left:C.timeStartPosX(h._time||h.time)+"px",width:C.timeDurationWidth(h.duration)-1+"px",height:50/b+"px",top:x*50/b+"px"}),w=(C,h,b)=>{const x=b>3?14:84;return{overflow:"hidden",position:"absolute",left:C.timeStartPosX(h._time||h.time)+x+"px",width:b>3?"110px":"40px",height:"50px"}},H=C=>t.filteredIds.includes(C)?"filtered":"";return(C,h)=>(nt(),xt($n,{class:"page-timeline my-page"},{default:Oe(()=>[Ht(et(ha,{class:"q-pa-none"},{default:Oe(()=>[Re(a).selectedDate?(nt(),xt(Re(Dn),{key:0,ref:b=>t.timeline=b,modelValue:Re(a).selectedDate,"onUpdate:modelValue":h[0]||(h[0]=b=>Re(a).selectedDate=b),"model-resources":t.selectedGames,"onUpdate:modelResources":h[1]||(h[1]=b=>t.selectedGames=b),"interval-start":t.interval.start,"interval-count":t.interval.count,"resource-key":"id","resource-label":"name",locale:"ru","hour24-format":"",bordered:"","cell-width":"168","resource-min-height":"0","resource-height":"64",dark:!0,class:"resource-timline"},{"resource-label":Oe(({scope:{resource:b}})=>[et(Oa,{flat:"","no-caps":"",padding:"0",style:{height:"64px",width:"168px"}},{default:Oe(()=>[kt("div",xr,[Wt(Xe(b.name)+" ",1),kt("span",Wr,Xe(b.duration),1)]),et(Ja,{anchor:"top right",self:"top left",class:"dark-shadow"},{default:Oe(()=>[et(ya,{style:{width:"400px","white-space":"pre-line"}},{default:Oe(()=>[et(Fn,{src:b.image},null,8,["src"]),et(ha,null,{default:Oe(()=>[Wt(Xe(b.description),1)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)]),"resource-intervals":Oe(({scope:b})=>[b.resourceIndex===0&&Re(a).selectedDate===Re(a).arenaDate?(nt(),Lt("div",{key:0,class:"now-pointer",title:Re(a).arenaTime,style:_a({left:b.timeStartPosX(Re(a).arenaTime)-4+"px"})},null,12,Ar)):Ft("",!0),(nt(!0),Lt(Fa,null,La(t.groupedBookings[b.resource.id],(x,K)=>(nt(),Lt("div",{key:K},[(nt(!0),Lt(Fa,null,La(x,(y,A)=>(nt(),Lt(Fa,{key:A},[y.isSlot?(nt(),xt(ya,{key:0,"v-ripple":!!y.fresh,flat:"",square:"",class:"row card-default",style:_a(f(b,y,x.length,A)),onClick:_=>y.fresh?(Re(a).selected=y,Re(a).newBookingForm=!0):null},{default:Oe(()=>[Er,et(ha,{class:Bt(["col column flex-center q-pa-none",y.fresh?"cursor-pointer q-hoverable text-grey bg-dark":"bg-grey-2 text-grey-8"])},{default:Oe(()=>[kt("div",null,Xe(Re(Ct)(y.price)),1),b.resource.players_quantity_dependency?(nt(),Lt("div",Or,[et(Ca,{name:"person"}),Wt(" "+Xe(y.available_for_booking),1)])):Ft("",!0)]),_:2},1032,["class"]),y.isUnder&&y.fresh?(nt(),xt(Oa,{key:0,square:"",flat:"",size:"sm",icon:"add",class:"slot-fab bg-deep-purple-14"},{default:Oe(()=>[et(pa,{class:"column flex-center bg-black border-gray",offset:[10,10]},{default:Oe(()=>[kt("div",null,Xe(Re(Ct)(y.price)),1),kt("div",null,"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E: "+Xe(y.available_for_booking),1)]),_:2},1024)]),_:2},1024)):Ft("",!0)]),_:2},1032,["v-ripple","style","onClick"])):Ft("",!0),y.isSlot?Ft("",!0):(nt(),xt(ya,{key:1,flat:"",bordered:"",square:"",style:_a(f(b,y,x.length,A)),class:Bt(["row cursor-pointer card-default",H(y.id)]),onClick:_=>s(y.id)},{default:Oe(()=>[et(ha,{class:Bt(["col column justify-center q-pa-none",`bg-${y.statusColor} ${x.length>1?"items-start":"flex-center"}`])},{default:Oe(()=>[Ht(kt("div",{class:Bt(["row ellipsis items-center",x.length>1?"justify-start q-pl-sm":""]),style:_a({fontSize:14-(x.length-1)*2+"px"})},[Wt(Xe(y.order_number)+" ",1),y.status.value>-1&&y.status.value!==y.payStatus?(nt(),xt(Ca,{key:0,name:"monetization_on",class:Bt(`q-ml-xs text-${y.payStatusColor}`)},null,8,["class"])):Ft("",!0)],6),[[Ea,x.length<4]]),Ht(kt("div",{class:"caption text-center",style:{"padding-top":"2px"}},Xe(Re(Ct)(y.payment))+" / "+Xe(Re(Ct)(y.amount_with_discount)),513),[[Ea,x.length<2]])]),_:2},1032,["class"]),et(pa,{class:"bg-black border-gray",offset:[10,10]},{default:Oe(()=>[Lr,kt("div",null,[et(Ca,{name:"person"}),Wt(" "+Xe(y.players_qty),1)]),kt("div",null,Xe(Re(Ct)(y.amount_with_discount)),1)]),_:2},1024)]),_:2},1032,["style","class","onClick"]))],64))),128)),x.length>1&&b.resource.players_quantity_dependency?(nt(),xt(ya,{key:0,flat:"",bordered:"",square:"",style:_a(w(b,x[0],x.length)),class:"row flex-center items-stretch card-default",onMouseover:y=>b.resource.groups[K]=!0},{default:Oe(()=>[et(ha,{class:"col column flex-center q-pa-none bg-primary"},{default:Oe(()=>[kt("div",null,Xe(x.length),1),x.length>3?(nt(),Lt("div",Ir,Xe(Re(Ct)(x.reduce((y,A)=>y+=A.payment,0)))+" / "+Xe(Re(Ct)(x.reduce((y,A)=>y+=A.amount_with_discount,0))),1)):Ft("",!0)]),_:2},1024),et(Ja,{modelValue:b.resource.groups[K],"onUpdate:modelValue":y=>b.resource.groups[K]=y,cover:"",class:"column flex-center items-stretch no-wrap",onMouseleave:y=>b.resource.groups[K]=!1},{default:Oe(()=>{var y,A;return[et(ya,{square:"",class:"column flex-center q-pa-none bg-primary"},{default:Oe(()=>[Wt(Xe(Re(Ct)(x.reduce((_,N)=>_+=N.payment,0)))+" / "+Xe(Re(Ct)(x.reduce((_,N)=>_+=N.amount_with_discount,0))),1)]),_:2},1024),et(Un,null,{default:Oe(()=>[(nt(!0),Lt(Fa,null,La(x,(_,N)=>Ht((nt(),xt(Qn,{key:N,clickable:"",dense:"",class:Bt(["border-gray",`bg-${_.statusColor}`]),onClick:O=>s(_.id)},{default:Oe(()=>[et(Yn,null,{default:Oe(()=>[et(Ga,{class:"row flex-center"},{default:Oe(()=>[Wt(Xe(_.order_number)+" ",1),_.status.value>-1&&_.status.value!==_.payStatus?(nt(),xt(Ca,{key:0,name:"monetization_on",class:Bt(`q-ml-xs text-${_.payStatusColor}`)},null,8,["class"])):Ft("",!0)]),_:2},1024),et(Ga,{caption:"",lines:"1",class:"row flex-center"},{default:Oe(()=>[Wt(Xe(Re(Ct)(_.payment))+" / "+Xe(Re(Ct)(_.amount_with_discount)),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["class","onClick"])),[[Xn]])),128))]),_:2},1024),((y=x[0].slot)==null?void 0:y.available_for_booking)>0&&((A=x[0].slot)==null?void 0:A.fresh)?(nt(),xt(Oa,{key:0,flat:"","no-caps":"",padding:"0",class:"bg-deep-purple-14",onClick:_=>(Re(a).selected=x[0].slot,Re(a).newBookingForm=!0)},{default:Oe(()=>[Wt(" \u0414\u043E\u0441\u0442\u0443\u043F\u043D\u043E ")]),_:2},1032,["onClick"])):Ft("",!0)]}),_:2},1032,["modelValue","onUpdate:modelValue","onMouseleave"])]),_:2},1032,["style","onMouseover"])):Ft("",!0)]))),128))]),_:1},8,["modelValue","model-resources","interval-start","interval-count"])):Ft("",!0)]),_:1},512),[[Ea,!t.loading&&Re(a).games.length]])]),_:1}))}};export{Kr as default};
